<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ha Dr Architecture Documentation Dt3</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 30px;
            background-color: #fff;
        }

        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 40px;
        }

        h2 {
            color: #34495e;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 8px;
            margin-top: 30px;
        }

        h3, h4, h5, h6 {
            color: #7f8c8d;
            margin-top: 20px;
        }

        code {
            background-color: #f7f9fc;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
        }

        pre {
            background-color: #2d3436;
            color: #dfe6e9;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 0.85em;
        }

        pre code {
            background-color: transparent;
            color: inherit;
            padding: 0;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
            font-size: 0.9em;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 10px 12px;
            text-align: left;
        }

        th {
            background-color: #3498db;
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        blockquote {
            border-left: 4px solid #3498db;
            margin: 20px 0;
            padding: 10px 20px;
            background-color: #ecf0f1;
            font-style: italic;
        }

        a {
            color: #3498db;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .diagram {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background-color: #fafafa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow-x: auto;
        }

        .diagram svg {
            max-width: 100%;
            height: auto;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px auto;
        }

        ul, ol {
            padding-left: 25px;
        }

        li {
            margin-bottom: 5px;
        }

        hr {
            border: none;
            border-top: 2px solid #ecf0f1;
            margin: 30px 0;
        }

        #TOC {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        #TOC h2 {
            margin-top: 0;
            color: #2c3e50;
        }

        #TOC ul {
            list-style-type: none;
            padding-left: 0;
        }

        #TOC li {
            padding: 3px 0;
        }

        .header-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            margin: -30px -30px 30px -30px;
            text-align: center;
        }

        .header-section h1 {
            color: white;
            border: none;
            margin: 0;
        }

        .header-section p {
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
    </style>
</head>
<body>
    <div class="header-section">
        <h1>Ha Dr Architecture Documentation Dt3</h1>
        <p>SECURAA Security Documentation</p>
    </div>
    <h1 id="high-availability-and-disaster-recovery-hadr-architecture">High
Availability and Disaster Recovery (HA/DR) Architecture</h1>
<h2 id="executive-summary">Executive Summary</h2>
<p>The Securaa solution implements a High Availability (HA) and Disaster
Recovery (DR) architecture designed to ensure business continuity, data
protection, and recovery capabilities.</p>
<p><strong>Local Site HA (Fully Automatic):</strong> Each site (DC and
DR independently) operates a 3-server MongoDB replica set (Server 1
Primary, Server 2 Secondary, Server 3 Arbiter) providing
<strong>automatic failover within 20-35 minutes</strong> for
server-level failures. Primary‚ÜîÔ∏éSecondary data sync is achieved through
<strong>Hot Sync (oplog-based replication)</strong> within each site,
ensuring near real-time data synchronization (~1 minute lag) between
Primary and Secondary nodes.</p>
<p><strong>Cross-Site DR (Automated Incremental Backup &amp;
Restore):</strong> Between DC and DR sites, data synchronization uses
<strong>automated cron-based incremental backups</strong> (recommended
interval: 1 hour, and configurable) transferred via SCP. <strong>Data
synchronization runs automatically; only DR site activation requires
manual administrator intervention</strong> when the entire DC site
fails. There are no automated cross-site failover agents.</p>
<p><strong>Key Architecture Points:</strong> - <strong>Hot Sync
(Oplog)</strong>: Used ONLY within each site (DC Primary ‚Üí DC Secondary;
DR Primary ‚Üí DR Secondary) for local HA - <strong>Incremental
Backup/Restore</strong>: Used for cross-site synchronization (DC ‚Üí DR)
with 1-hour intervals (Configurable) - <strong>RPO</strong>: Data sync
in ~1 minute within each site (Hot Sync); ~1 hour (configurable) between
DC and DR (Incremental Backup)</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ol type="1">
<li><a href="#architecture-overview">Architecture Overview</a></li>
<li><a href="#high-availability-components">High Availability
Components</a></li>
<li><a href="#disaster-recovery-setup">Disaster Recovery Setup</a>
<ul>
<li><a href="#dc‚Äìdr-incremental-backup--restore">DC‚ÄìDR Incremental
Backup &amp; Restore (Cross-Site)</a></li>
<li><a href="#hot-sync-oplog-replication---within-each-site-only">Hot
Sync (Within Each Site Only)</a></li>
</ul></li>
<li><a href="#failover-mechanisms">Failover Mechanisms</a></li>
<li><a href="#data-synchronization">Data Synchronization</a></li>
<li><a href="#recovery-procedures">Recovery Procedures</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<hr />
<h2 id="architecture-overview">Architecture Overview</h2>
<p>The SOAR Services platform implements an HA/DR strategy with two
different synchronization technologies:</p>
<p><strong>Within Each Site (Local HA):</strong> - <strong>Hot Sync
(Oplog-based replication)</strong>: Used for PRIMARY ‚Üí SECONDARY
synchronization within DC site and within DR site independently - Near
real-time data synchronization (~1 minute lag) - Enables automatic
failover within 20-35 minutes - SECONDARY performs continuous health
checks. If the PRIMARY server does not respond within the configured
time window, the secondary server automatically takes over. The default
duration is 20 minutes.</p>
<p><strong>Between Sites (Cross-Site DR):</strong> - <strong>DC‚ÄìDR
Incremental Backup &amp; Restore</strong>: Used ONLY for DC ‚Üí DR
cross-site synchronization - Automated cron-based periodic incremental
backups (default: every 1 hour) - Transferred via SCP (port 22)</p>
<p>The architecture uses three-server MongoDB replica sets locally
within each site (DC and DR operate independently) with Hot Sync for
local HA, while cross-site DR relies on automated incremental
backup/restore for DC ‚Üí DR synchronization.</p>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1151.24px; background-color: white;" viewBox="0 0 1151.23828125 1214" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .primaryStyle&gt;*{fill:#4169e1!important;stroke:#1e3a8a!important;stroke-width:3px!important;color:#fff!important;font-weight:bold!important;}#my-svg .primaryStyle span{fill:#4169e1!important;stroke:#1e3a8a!important;stroke-width:3px!important;color:#fff!important;font-weight:bold!important;}#my-svg .primaryStyle tspan{fill:#fff!important;}#my-svg .secondaryStyle&gt;*{fill:#10b981!important;stroke:#047857!important;stroke-width:3px!important;color:#fff!important;font-weight:bold!important;}#my-svg .secondaryStyle span{fill:#10b981!important;stroke:#047857!important;stroke-width:3px!important;color:#fff!important;font-weight:bold!important;}#my-svg .secondaryStyle tspan{fill:#fff!important;}#my-svg .arbiterStyle&gt;*{fill:#6b7280!important;stroke:#374151!important;stroke-width:3px!important;color:#fff!important;font-weight:bold!important;}#my-svg .arbiterStyle span{fill:#6b7280!important;stroke:#374151!important;stroke-width:3px!important;color:#fff!important;font-weight:bold!important;}#my-svg .arbiterStyle tspan{fill:#fff!important;}#my-svg .userStyle&gt;*{fill:#f59e0b!important;stroke:#b45309!important;stroke-width:3px!important;color:#fff!important;font-weight:bold!important;}#my-svg .userStyle span{fill:#f59e0b!important;stroke:#b45309!important;stroke-width:3px!important;color:#fff!important;font-weight:bold!important;}#my-svg .userStyle tspan{fill:#fff!important;}#my-svg .siteStyle&gt;*{fill:#e5e7eb!important;stroke:#6b7280!important;stroke-width:2px!important;color:#000!important;}#my-svg .siteStyle span{fill:#e5e7eb!important;stroke:#6b7280!important;stroke-width:2px!important;color:#000!important;}#my-svg .siteStyle tspan{fill:#000!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="DR" data-look="classic"><rect style="" x="8" y="458" width="524.09375" height="748"/><g class="cluster-label" transform="translate(216.2578125, 458)"><text x="53.7890625" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">SOAR DR Site</text></g></g><g class="cluster" id="DC" data-look="classic"><rect style="" x="552.09375" y="160" width="591.14453125" height="748"/><g class="cluster-label" transform="translate(793.876953125, 160)"><text x="53.7890625" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">SOAR DC Site</text></g></g><g class="cluster siteStyle" id="DR_HA" data-look="classic"><rect style="fill:#e5e7eb !important;stroke:#6b7280 !important;stroke-width:2px !important" x="28" y="483" width="484.09375" height="698"/><g class="cluster-label" transform="translate(195.2265625, 483)"><text x="74.8203125" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #000; font-weight: bold;">SOAR DR HA Setup</text></g></g><g class="cluster siteStyle" id="DC_HA" data-look="classic"><rect style="fill:#e5e7eb !important;stroke:#6b7280 !important;stroke-width:2px !important" x="572.09375" y="185" width="551.14453125" height="698"/><g class="cluster-label" transform="translate(772.845703125, 185)"><text x="74.8203125" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #000; font-weight: bold;">SOAR DC HA Setup</text></g></g></g><g class="edgePaths"><path d="M896.172,332.39L911.417,343.158C926.661,353.927,957.151,375.463,972.396,396.398C987.641,417.333,987.641,437.667,987.641,452C987.641,466.333,987.641,474.667,987.641,483C987.641,491.333,987.641,499.667,987.641,503.833L987.641,508" id="L_DC_PRI_DC_SEC1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_PRI_DC_SEC1_0" data-points="W3sieCI6ODk2LjE3MTg3NSwieSI6MzMyLjM4OTc2NDEyOTk1MTA2fSx7IngiOjk4Ny42NDA2MjUsInkiOjM5N30seyJ4Ijo5ODcuNjQwNjI1LCJ5Ijo0NTh9LHsieCI6OTg3LjY0MDYyNSwieSI6NDgzfSx7IngiOjk4Ny42NDA2MjUsInkiOjUwOH1d"/><path d="M812.094,336L812.094,346.167C812.094,356.333,812.094,376.667,812.094,397C812.094,417.333,812.094,437.667,812.094,452C812.094,466.333,812.094,474.667,812.094,493.5C812.094,512.333,812.094,541.667,812.094,573C812.094,604.333,812.094,637.667,816.515,659.975C820.937,682.284,829.78,693.568,834.201,699.21L838.623,704.852" id="L_DC_PRI_DC_SEC2_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_PRI_DC_SEC2_0" data-points="W3sieCI6ODEyLjA5Mzc1LCJ5IjozMzZ9LHsieCI6ODEyLjA5Mzc1LCJ5IjozOTd9LHsieCI6ODEyLjA5Mzc1LCJ5Ijo0NTh9LHsieCI6ODEyLjA5Mzc1LCJ5Ijo0ODN9LHsieCI6ODEyLjA5Mzc1LCJ5Ijo1NzF9LHsieCI6ODEyLjA5Mzc1LCJ5Ijo2NzF9LHsieCI6ODQxLjA5MDMzMjAzMTI1LCJ5Ijo3MDh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M987.641,634L987.641,640.167C987.641,646.333,987.641,658.667,983.219,670.475C978.798,682.284,969.954,693.568,965.533,699.21L961.111,704.852" id="L_DC_SEC1_DC_SEC2_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_SEC1_DC_SEC2_0" data-points="W3sieCI6OTg3LjY0MDYyNSwieSI6NjM0fSx7IngiOjk4Ny42NDA2MjUsInkiOjY3MX0seyJ4Ijo5NTguNjQ0MDQyOTY4NzUsInkiOjcwOH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M315.343,634L321.697,640.167C328.05,646.333,340.758,658.667,347.111,673C353.465,687.333,353.465,703.667,353.465,711.833L353.465,720" id="L_DR_PRI_DR_SEC1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_PRI_DR_SEC1_0" data-points="W3sieCI6MzE1LjM0MzI4MTI1LCJ5Ijo2MzR9LHsieCI6MzUzLjQ2NDg0Mzc1LCJ5Ijo2NzF9LHsieCI6MzUzLjQ2NDg0Mzc1LCJ5Ijo3MjB9XQ=="/><path d="M185.524,634L179.17,640.167C172.817,646.333,160.11,658.667,153.756,683.5C147.402,708.333,147.402,745.667,147.402,781C147.402,816.333,147.402,849.667,147.402,870.5C147.402,891.333,147.402,899.667,147.402,910C147.402,920.333,147.402,932.667,152.1,944.487C156.798,956.308,166.194,967.616,170.891,973.27L175.589,978.923" id="L_DR_PRI_DR_SEC2_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_PRI_DR_SEC2_0" data-points="W3sieCI6MTg1LjUyMzkwNjI0OTk5OTk4LCJ5Ijo2MzR9LHsieCI6MTQ3LjQwMjM0Mzc1LCJ5Ijo2NzF9LHsieCI6MTQ3LjQwMjM0Mzc1LCJ5Ijo3ODN9LHsieCI6MTQ3LjQwMjM0Mzc1LCJ5Ijo4ODN9LHsieCI6MTQ3LjQwMjM0Mzc1LCJ5Ijo5MDh9LHsieCI6MTQ3LjQwMjM0Mzc1LCJ5Ijo5NDV9LHsieCI6MTc4LjE0NTUzOTMxNDUxNjEzLCJ5Ijo5ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M353.465,846L353.465,852.167C353.465,858.333,353.465,870.667,353.465,881C353.465,891.333,353.465,899.667,353.465,910C353.465,920.333,353.465,932.667,348.767,944.487C344.069,956.308,334.674,967.616,329.976,973.27L325.278,978.923" id="L_DR_SEC1_DR_SEC2_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_SEC1_DR_SEC2_0" data-points="W3sieCI6MzUzLjQ2NDg0Mzc1LCJ5Ijo4NDZ9LHsieCI6MzUzLjQ2NDg0Mzc1LCJ5Ijo4ODN9LHsieCI6MzUzLjQ2NDg0Mzc1LCJ5Ijo5MDh9LHsieCI6MzUzLjQ2NDg0Mzc1LCJ5Ijo5NDV9LHsieCI6MzIyLjcyMTY0ODE4NTQ4MzksInkiOjk4Mn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M542.949,48.857L587.807,59.214C632.664,69.571,722.379,90.286,767.236,108.81C812.094,127.333,812.094,143.667,812.094,156C812.094,168.333,812.094,176.667,812.094,184.333C812.094,192,812.094,199,812.094,202.5L812.094,206" id="L_USER_DC_PRI_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_USER_DC_PRI_0" data-points="W3sieCI6NTQyLjk0OTIxODc1LCJ5Ijo0OC44NTcwNDYyMjMyMjQzNX0seyJ4Ijo4MTIuMDkzNzUsInkiOjExMX0seyJ4Ijo4MTIuMDkzNzUsInkiOjE2MH0seyJ4Ijo4MTIuMDkzNzUsInkiOjE4NX0seyJ4Ijo4MTIuMDkzNzUsInkiOjIxMH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M422.918,54.618L394.171,64.015C365.423,73.412,307.928,92.206,279.181,109.77C250.434,127.333,250.434,143.667,250.434,156C250.434,168.333,250.434,176.667,250.434,195.5C250.434,214.333,250.434,243.667,250.434,279C250.434,314.333,250.434,355.667,250.434,386.5C250.434,417.333,250.434,437.667,250.434,452C250.434,466.333,250.434,474.667,250.434,482.333C250.434,490,250.434,497,250.434,500.5L250.434,504" id="L_USER_DR_PRI_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_USER_DR_PRI_0" data-points="W3sieCI6NDIyLjkxNzk2ODc1LCJ5Ijo1NC42MTgwMTA3NTI2ODgxN30seyJ4IjoyNTAuNDMzNTkzNzUsInkiOjExMX0seyJ4IjoyNTAuNDMzNTkzNzUsInkiOjE2MH0seyJ4IjoyNTAuNDMzNTkzNzUsInkiOjE4NX0seyJ4IjoyNTAuNDMzNTkzNzUsInkiOjI3M30seyJ4IjoyNTAuNDMzNTkzNzUsInkiOjM5N30seyJ4IjoyNTAuNDMzNTkzNzUsInkiOjQ1OH0seyJ4IjoyNTAuNDMzNTkzNzUsInkiOjQ4M30seyJ4IjoyNTAuNDMzNTkzNzUsInkiOjUwOH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M552.094,487.805L534.138,518.005" id="L_DC_DR_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_DR_0" data-points="W3sieCI6NzUxLjEyNjAwODA2NDUxNjEsInkiOjMzNn0seyJ4Ijo2OTIuMDkzNzUsInkiOjM5N30seyJ4Ijo2OTIuMDkzNzUsInkiOjQ1OH0seyJ4Ijo2OTIuMDkzNzUsInkiOjQ4M30seyJ4IjozMzkuMTUyMzQzNzUsInkiOjU1My4zMjI5NDY5Nzc0MDI0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(987.640625, 397)"><g class="label" transform="translate(-58.703125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Data Replication</text></g></g><g class="edgeLabel" transform="translate(812.09375, 571)"><g class="label" transform="translate(-53.8046875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Heartbeat Only</text></g></g><g class="edgeLabel" transform="translate(987.640625, 671)"><g class="label" transform="translate(-35.1328125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Heartbeat</text></g></g><g class="edgeLabel" transform="translate(353.46484375, 671)"><g class="label" transform="translate(-58.703125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Data Replication</text></g></g><g class="edgeLabel" transform="translate(147.40234375, 783)"><g class="label" transform="translate(-53.8046875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Heartbeat Only</text></g></g><g class="edgeLabel" transform="translate(353.46484375, 945)"><g class="label" transform="translate(-35.1328125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Heartbeat</text></g></g><g class="edgeLabel" transform="translate(812.09375, 111)"><g class="label" data-id="L_USER_DC_PRI_0" transform="translate(-98.6875, -24.0)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;"><tspan x="0" y="-7.0">UI Port: 443</tspan><tspan x="0" y="7.0">Securaa UI (DC Primary IP)</tspan></text></g></g><g class="edgeLabel" transform="translate(250.43359375, 273)"><g class="label" data-id="L_USER_DR_PRI_0" transform="translate(-98.6875, -36.0)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;"><tspan x="0" y="-14.0">UI Port: 443</tspan><tspan x="0" y="0.0">Securaa UI (DR Primary IP)</tspan><tspan x="0" y="14.0">(Manual Failover)</tspan></text></g></g><g class="edgeLabel" transform="translate(542.09375, 504.62432)"><g class="label" data-id="L_DC_DR_0" transform="translate(-100.0, -36.0)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;"><tspan x="0" y="-7.0">Port: 22</tspan><tspan x="0" y="7.0">Database Backup and Restore</tspan></text></g></g></g><g class="nodes"><g class="node default primaryStyle" id="flowchart-DC_PRI-0" transform="translate(812.09375, 273)"><rect class="basic label-container" style="fill:#4169e1 !important;stroke:#1e3a8a !important;stroke-width:3px !important" x="-84.078125" y="-63" width="168.15625" height="126"/><g class="label" style="color:#fff !important;font-weight:bold !important" transform="translate(-54.078125, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="54.078125" y="22.800000000000004">PRIMARY</tspan><tspan x="54.078125" y="42.400000000000006">Port: 27017</tspan><tspan x="54.078125" y="62.0">IP: 192.0.2.10</tspan><tspan x="54.078125" y="81.6">‚úì Data Master</tspan></text></g></g><g class="node default secondaryStyle" id="flowchart-DC_SEC1-1" transform="translate(987.640625, 571)"><rect class="basic label-container" style="fill:#10b981 !important;stroke:#047857 !important;stroke-width:3px !important" x="-86.7421875" y="-63" width="173.484375" height="126"/><g class="label" style="color:#fff !important;font-weight:bold !important" transform="translate(-56.7421875, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="56.7421875" y="22.800000000000004">SECONDARY</tspan><tspan x="56.7421875" y="42.400000000000006">Port: 27017</tspan><tspan x="56.7421875" y="62.0">IP: 192.0.2.11</tspan><tspan x="56.7421875" y="81.6">‚úì Data Replica</tspan></text></g></g><g class="node default arbiterStyle" id="flowchart-DC_SEC2-2" transform="translate(899.8671875, 783)"><rect class="basic label-container" style="fill:#6b7280 !important;stroke:#374151 !important;stroke-width:3px !important" x="-114.453125" y="-75" width="228.90625" height="150"/><g class="label" style="color:#fff !important;font-weight:bold !important" transform="translate(-84.453125, -60)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="84.453125" y="25.000000000000007">SECONDARY (Arbiter)</tspan><tspan x="84.453125" y="44.60000000000001">Port: 27017</tspan><tspan x="84.453125" y="64.2">IP: 192.0.2.12</tspan><tspan x="84.453125" y="83.80000000000001">‚úó No Data</tspan><tspan x="84.453125" y="103.4">‚úì Voting Only</tspan></text></g></g><g class="node default primaryStyle" id="flowchart-DR_PRI-9" transform="translate(250.43359375, 571)"><rect class="basic label-container" style="fill:#4169e1 !important;stroke:#1e3a8a !important;stroke-width:3px !important" x="-88.71875" y="-63" width="177.4375" height="126"/><g class="label" style="color:#fff !important;font-weight:bold !important" transform="translate(-58.71875, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="58.71875" y="22.800000000000004">PRIMARY</tspan><tspan x="58.71875" y="42.400000000000006">Port: 27017</tspan><tspan x="58.71875" y="62.0">IP: 203.0.113.10</tspan><tspan x="58.71875" y="81.6">‚úì Data Master</tspan></text></g></g><g class="node default secondaryStyle" id="flowchart-DR_SEC1-10" transform="translate(353.46484375, 783)"><rect class="basic label-container" style="fill:#10b981 !important;stroke:#047857 !important;stroke-width:3px !important" x="-117.2578125" y="-63" width="234.515625" height="126"/><g class="label" style="color:#fff !important;font-weight:bold !important" transform="translate(-87.2578125, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="87.2578125" y="22.800000000000004">SECONDARY(optional)</tspan><tspan x="87.2578125" y="42.400000000000006">Port: 27017</tspan><tspan x="87.2578125" y="62.0">IP: 203.0.113.11</tspan><tspan x="87.2578125" y="81.6">‚úì Data Replica</tspan></text></g></g><g class="node default arbiterStyle" id="flowchart-DR_SEC2-11" transform="translate(250.43359375, 1069)"><rect class="basic label-container" style="fill:#6b7280 !important;stroke:#374151 !important;stroke-width:3px !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="color:#fff !important;font-weight:bold !important" transform="translate(-100, -72)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="100.0" y="37.00000000000001">SECONDARY (Arbiter - if only secondary exist)</tspan><tspan x="100.0" y="56.60000000000001">Port: 27017</tspan><tspan x="100.0" y="76.2">IP: 203.0.113.12</tspan><tspan x="100.0" y="95.80000000000001">‚úó No Data</tspan><tspan x="100.0" y="115.4">‚úì Voting Only</tspan></text></g></g><g class="node default userStyle" id="flowchart-USER-18" transform="translate(482.93359375, 35)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#b45309 !important;stroke-width:3px !important" x="-60.015625" y="-27" width="120.03125" height="54"/><g class="label" style="color:#fff !important;font-weight:bold !important" transform="translate(-30.015625, -12)"><text x="30.015625" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;">üë§ User</text></g></g></g></g></g></svg>
</div>
<hr />
<h2 id="high-availability-components">High Availability Components</h2>
<h3
id="three-server-mongodb-replica-set-architecture-per-site---fully-automatic">1.
Three-Server MongoDB Replica Set Architecture (per site) - Fully
Automatic</h3>
<p>Each site runs a MongoDB replica set across three separate servers: 1
Primary, 1 Secondary (data-bearing), and 1 Arbiter (voting-only, no
data). This provides distributed HA with <strong>fully automatic
elections, automatic failover, and automatic data replication</strong>
with quick recovery from server failures.</p>
<p>Key properties: - <strong>PRIMARY Node (Port 27017)</strong>: Runs
SOAR Primary application + MongoDB Primary; handles all read and write
operations; <strong>automatically replicates data to Secondary</strong>
- <strong>SECONDARY Node (Port 27017)</strong>: Runs SOAR Secondary
application + MongoDB Secondary; maintains a complete copy of data;
<strong>automatically participates in elections</strong>;
<strong>automatically becomes Primary on failover</strong> -
<strong>SECONDARY Node (Arbiter - Port 27017)</strong>: Runs Arbiter
service only (labeled as ‚ÄúSECONDARY‚Äù in diagrams); <strong>automatically
participates in elections</strong>; <strong>does NOT store
data</strong>; acts as tiebreaker - <strong>Automatic election within
~15‚Äì35 seconds and failover within 20-35 minutes</strong> (no manual
intervention required) - <strong>All operations (read + write) performed
on Primary node only</strong> - When the Secondary becomes Primary, all
read/write operations <strong>automatically switch</strong> to the new
Primary - <strong>All three MongoDB instances use port 27017</strong> -
<strong>Each component runs on a separate physical/virtual
machine</strong></p>
<h3 id="crosssite-disaster-recovery-automatic-sync-manual-activation">2.
Cross‚ÄëSite Disaster Recovery (Automatic Sync, Manual Activation)</h3>
<p>The DR site maintains an identical 3-server MongoDB replica set
architecture as the DC site (1 Primary + 1 Secondary with data + 1
Arbiter without data). DR activation is a <strong>manual
process</strong> that requires administrator intervention, but data
synchronization is <strong>automatic</strong>.</p>
<ul>
<li><strong>Manual DR Activation</strong> ‚Äî Administrators manually
activate DR site during DC disasters</li>
<li><strong>Automatic Data Synchronization</strong> ‚Äî Automated periodic
backups transferred over SCP (port 22) or automated oplog-based
sync</li>
<li><strong>No Automated Failover Agents</strong> ‚Äî Synchronization runs
automatically via cron jobs or oplog replication; DR activation is
manual</li>
<li><strong>Identical Architecture</strong> ‚Äî DR site has the same
3-server structure (1 Primary + 1 Secondary data-bearing + 1 Arbiter
voting-only)</li>
</ul>
<p>Both synchronization approaches are described in the Disaster
Recovery Setup section below.</p>
<h3 id="detailed-three-server-mongodb-replica-set-architecture">3.
Detailed Three-Server MongoDB Replica Set Architecture</h3>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1592.47px; background-color: white;" viewBox="0 0 1592.46875 409" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .writeOps&gt;*{fill:#d4edda!important;stroke:#155724!important;stroke-width:2px!important;color:#000!important;}#my-svg .writeOps span{fill:#d4edda!important;stroke:#155724!important;stroke-width:2px!important;color:#000!important;}#my-svg .writeOps tspan{fill:#000!important;}#my-svg .replication&gt;*{fill:#cfe2ff!important;stroke:#084298!important;stroke-width:2px!important;color:#000!important;}#my-svg .replication span{fill:#cfe2ff!important;stroke:#084298!important;stroke-width:2px!important;color:#000!important;}#my-svg .replication tspan{fill:#000!important;}#my-svg .dataOps&gt;*{fill:#fff3cd!important;stroke:#856404!important;stroke-width:2px!important;color:#000!important;}#my-svg .dataOps span{fill:#fff3cd!important;stroke:#856404!important;stroke-width:2px!important;color:#000!important;}#my-svg .dataOps tspan{fill:#000!important;}#my-svg .buffer&gt;*{fill:#f8d7da!important;stroke:#721c24!important;stroke-width:2px!important;color:#000!important;}#my-svg .buffer span{fill:#f8d7da!important;stroke:#721c24!important;stroke-width:2px!important;color:#000!important;}#my-svg .buffer tspan{fill:#000!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M212.172,118L224.454,118C236.737,118,261.302,118,288.046,118C314.789,118,343.711,118,358.172,118L372.633,118" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MjEyLjE3MTg3NSwieSI6MTE4fSx7IngiOjI4NS44NjcxODc1LCJ5IjoxMTh9LHsieCI6Mzc2LjYzMjgxMjUsInkiOjExOH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M534.273,76.28L551.995,66.9C569.716,57.52,605.159,38.76,653.695,29.38C702.232,20,763.862,20,822.75,20C881.638,20,937.784,20,977.352,23.402C1016.919,26.804,1039.909,33.608,1051.404,37.01L1062.899,40.412" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6NTM0LjI3MzQzNzUsInkiOjc2LjI4MDAxMTgxNDg0NDV9LHsieCI6NjQwLjYwMTU2MjUsInkiOjIwfSx7IngiOjgyNS40OTIxODc1LCJ5IjoyMH0seyJ4Ijo5OTMuOTI5Njg3NSwieSI6MjB9LHsieCI6MTA2Ni43MzQzNzUsInkiOjQxLjU0NzMyOTE4MDgyMjk1Nn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M534.273,118L551.995,118C569.716,118,605.159,118,641.505,118C677.852,118,715.102,118,733.727,118L752.352,118" id="L_B_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_D_0" data-points="W3sieCI6NTM0LjI3MzQzNzUsInkiOjExOH0seyJ4Ijo2NDAuNjAxNTYyNSwieSI6MTE4fSx7IngiOjc1Ni4zNTE1NjI1LCJ5IjoxMTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M529.223,169L547.786,181.833C566.349,194.667,603.475,220.333,636.924,233.167C670.372,246,700.143,246,715.029,246L729.914,246" id="L_B_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_E_0" data-points="W3sieCI6NTI5LjIyMzIwNTU2NjQwNjIsInkiOjE2OX0seyJ4Ijo2NDAuNjAxNTYyNSwieSI6MjQ2fSx7IngiOjczMy45MTQwNjI1LCJ5IjoyNDZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M917.07,246L929.88,246C942.69,246,968.31,246,1000.307,225.487C1032.305,204.974,1070.68,163.947,1089.868,143.434L1109.055,122.921" id="L_E_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_C_0" data-points="W3sieCI6OTE3LjA3MDMxMjUsInkiOjI0Nn0seyJ4Ijo5OTMuOTI5Njg3NSwieSI6MjQ2fSx7IngiOjExMTEuNzg3NzM4MzQ3NDU3NywieSI6MTIwfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1252.25,69L1264.475,69C1276.701,69,1301.151,69,1324.935,69C1348.719,69,1371.836,69,1383.395,69L1394.953,69" id="L_C_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_F_0" data-points="W3sieCI6MTI1Mi4yNSwieSI6Njl9LHsieCI6MTMyNS42MDE1NjI1LCJ5Ijo2OX0seyJ4IjoxMzk4Ljk1MzEyNSwieSI6Njl9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M211.609,246L223.986,246C236.362,246,261.115,246,288.492,246C315.87,246,345.872,246,360.874,246L375.875,246" id="L_G_H_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_G_H_0" data-points="W3sieCI6MjExLjYwOTM3NSwieSI6MjQ2fSx7IngiOjI4NS44NjcxODc1LCJ5IjoyNDZ9LHsieCI6Mzc5Ljg3NSwieSI6MjQ2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M208.445,362L221.349,362C234.253,362,260.06,362,284.579,362C309.099,362,332.331,362,343.947,362L355.563,362" id="L_I_J_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I_J_0" data-points="W3sieCI6MjA4LjQ0NTMxMjUsInkiOjM2Mn0seyJ4IjoyODUuODY3MTg3NSwieSI6MzYyfSx7IngiOjM1OS41NjI1LCJ5IjozNjJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M551.344,362L566.22,362C581.096,362,610.849,362,639.935,362C669.021,362,697.44,362,711.65,362L725.859,362" id="L_J_K_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_J_K_0" data-points="W3sieCI6NTUxLjM0Mzc1LCJ5IjozNjJ9LHsieCI6NjQwLjYwMTU2MjUsInkiOjM2Mn0seyJ4Ijo3MjkuODU5Mzc1LCJ5IjozNjJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(285.8671875, 118)"><g class="label" transform="translate(-48.6953125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">‚ö° 0 seconds</text></g></g><g class="edgeLabel" transform="translate(825.4921875, 20)"><g class="label" transform="translate(-51.5859375, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">‚ö° < 1 second</text></g></g><g class="edgeLabel" transform="translate(640.6015625, 118)"><g class="label" transform="translate(-64.2578125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">üíì Heartbeat only</text></g></g><g class="edgeLabel" transform="translate(640.6015625, 246)"><g class="label" transform="translate(-54.46875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">üìã Oplog Entry</text></g></g><g class="edgeLabel" transform="translate(993.9296875, 246)"><g class="label" transform="translate(-47.8046875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">‚è± < 1 minute</text></g></g><g class="edgeLabel" transform="translate(1325.6015625, 69)"><g class="label" transform="translate(-48.3515625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">‚öô Apply Time</text></g></g><g class="edgeLabel" transform="translate(285.8671875, 246)"><g class="label" transform="translate(-35.359375, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">~1 minute</text></g></g><g class="edgeLabel"><g class="label" data-id="L_I_J_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(640.6015625, 362)"><g class="label" transform="translate(-57.578125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">üîÑ Auto-resume</text></g></g></g><g class="nodes"><g class="node default writeOps" id="flowchart-A-0" transform="translate(110.0859375, 118)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:2px !important" x="-102.0859375" y="-27" width="204.171875" height="54"/><g class="label" style="color:#000 !important" transform="translate(-72.0859375, -12)"><text x="72.0859375" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">‚úç Write Operation</text></g></g><g class="node default writeOps" id="flowchart-B-1" transform="translate(455.453125, 118)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:2px !important" x="-78.8203125" y="-51" width="157.640625" height="102"/><g class="label" style="color:#000 !important" transform="translate(-48.8203125, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="48.8203125" y="20.6">üîµ PRIMARY</tspan><tspan x="48.8203125" y="40.2">Commits</tspan><tspan x="48.8203125" y="59.8">Port 27017</tspan></text></g></g><g class="node default writeOps" id="flowchart-C-3" transform="translate(1159.4921875, 69)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:2px !important" x="-92.7578125" y="-51" width="185.515625" height="102"/><g class="label" style="color:#000 !important" transform="translate(-62.7578125, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="62.7578125" y="20.6">üü¢ SECONDARY</tspan><tspan x="62.7578125" y="40.2">Replicates Oplog</tspan><tspan x="62.7578125" y="59.8">Port 27017</tspan></text></g></g><g class="node default" id="flowchart-D-5" transform="translate(825.4921875, 118)"><rect class="basic label-container" style="" x="-69.140625" y="-51" width="138.28125" height="102"/><g class="label" style="" transform="translate(-39.140625, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="39.140625" y="20.6">‚ö™ Arbiter</tspan><tspan x="39.140625" y="40.2">No data</tspan><tspan x="39.140625" y="59.8">Port 27017</tspan></text></g></g><g class="node default replication" id="flowchart-E-7" transform="translate(825.4921875, 246)"><rect class="basic label-container" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:2px !important" x="-91.578125" y="-27" width="183.15625" height="54"/><g class="label" style="color:#000 !important" transform="translate(-61.578125, -12)"><text x="61.578125" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">üìã Oplog Stream</text></g></g><g class="node default replication dataOps" id="flowchart-F-11" transform="translate(1491.7109375, 69)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:2px !important" x="-92.7578125" y="-39" width="185.515625" height="78"/><g class="label" style="color:#000 !important" transform="translate(-62.7578125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="62.7578125" y="18.400000000000002">üíæ SECONDARY</tspan><tspan x="62.7578125" y="38.0">Data Updated</tspan></text></g></g><g class="node default" id="flowchart-G-12" transform="translate(110.0859375, 246)"><rect class="basic label-container" style="" x="-101.5234375" y="-39" width="203.046875" height="78"/><g class="label" style="" transform="translate(-71.5234375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="71.5234375" y="18.400000000000002">üìä Typical Total Lag</tspan><tspan x="71.5234375" y="38.0">(Within Site)</tspan></text></g></g><g class="node default dataOps" id="flowchart-H-13" transform="translate(455.453125, 246)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:2px !important" x="-75.578125" y="-27" width="151.15625" height="54"/><g class="label" style="color:#000 !important" transform="translate(-45.578125, -12)"><text x="45.578125" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">‚è± ~1 minute</text></g></g><g class="node default" id="flowchart-I-14" transform="translate(110.0859375, 362)"><rect class="basic label-container" style="" x="-98.359375" y="-27" width="196.71875" height="54"/><g class="label" style="" transform="translate(-68.359375, -12)"><text x="68.359375" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">‚ö† Network Issues?</text></g></g><g class="node default buffer" id="flowchart-J-15" transform="translate(455.453125, 362)"><rect class="basic label-container" style="fill:#f8d7da !important;stroke:#721c24 !important;stroke-width:2px !important" x="-95.890625" y="-39" width="191.78125" height="78"/><g class="label" style="color:#000 !important" transform="translate(-65.890625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="65.890625" y="18.400000000000002">üíæ Oplog Buffered</tspan><tspan x="65.890625" y="38.0">at PRIMARY</tspan></text></g></g><g class="node default" id="flowchart-K-17" transform="translate(825.4921875, 362)"><rect class="basic label-container" style="" x="-95.6328125" y="-39" width="191.265625" height="78"/><g class="label" style="" transform="translate(-65.6328125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="65.6328125" y="18.400000000000002">‚úì Resumes When</tspan><tspan x="65.6328125" y="38.0">Network Restored</tspan></text></g></g></g></g></g></svg>
</div>
<hr />
<h2 id="disaster-recovery-setup">Disaster Recovery Setup</h2>
<p>This section describes cross-site DC‚ÜíDR synchronization (Incremental
Backup &amp; Restore) and local HA replication (Hot Sync within each
site).</p>
<h3 id="dcdr-incremental-backup-restore-cross-site-only">DC‚ÄìDR
Incremental Backup &amp; Restore (Cross-Site Only)</h3>
<p>Overview: - Automated periodic backups are taken at DC and
automatically restored to DR at administrator-defined intervals. Default
recommendation: every 1 hour.</p>
<p>Process: 1. Automated cron job performs MongoDB logical/physical and
file backups at the DC (incremental dumps or snapshots). 2. Compress and
automatically transfer backup archives to the DR system via SCP (port
22). 3. Automated process validates archives and restores MongoDB data
and files to their locations on the DR site servers.</p>
<p>Behavior: - DR instance can remain active and continuously running
(services can be available for testing). - Data on DR is updated on each
automated restore based on administrator-defined intervals (‚âà every 1
hour recommended). - Initial downtime: the first restore to a new DR
environment requires downtime on DR while the baseline restore completes
‚Äî depends on production data size (typical order: ‚âà 1 hour; varies). -
Sync duration: ‚âà 1 hour per incremental cycle (depends on data volume
and transfer frequency). - RPO is bounded by the backup interval
(default 1 hour recommendation).</p>
<p>Notes and operational considerations: - Ensure sufficient DR storage
and retention for incremental chains. - Validate incremental chain
integrity and version compatibility during each transfer. - DR services
may be kept active for testing/read access; <strong>DR activation for
production traffic requires manual administrator
intervention</strong>.</p>
<h4 id="incremental-backup-restore-workflow">Incremental Backup &amp;
Restore Workflow</h4>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 586px; background-color: white;" viewBox="0 0 586 798" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .start&gt;*{fill:#cfe2ff!important;stroke:#084298!important;stroke-width:3px!important;color:#000!important;}#my-svg .start span{fill:#cfe2ff!important;stroke:#084298!important;stroke-width:3px!important;color:#000!important;}#my-svg .start tspan{fill:#000!important;}#my-svg .hotSync&gt;*{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:3px!important;color:#000!important;}#my-svg .hotSync span{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:3px!important;color:#000!important;}#my-svg .hotSync tspan{fill:#000!important;}#my-svg .backup&gt;*{fill:#fff3cd!important;stroke:#856404!important;stroke-width:3px!important;color:#000!important;}#my-svg .backup span{fill:#fff3cd!important;stroke:#856404!important;stroke-width:3px!important;color:#000!important;}#my-svg .backup tspan{fill:#000!important;}#my-svg .success&gt;*{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:4px!important;color:#000!important;}#my-svg .success span{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:4px!important;color:#000!important;}#my-svg .success tspan{fill:#000!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M212.519,62L200.099,66.167C187.679,70.333,162.84,78.667,150.42,86.333C138,94,138,101,138,104.5L138,108" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MjEyLjUxOTIzMDc2OTIzMDc3LCJ5Ijo2Mn0seyJ4IjoxMzgsInkiOjg3fSx7IngiOjEzOCwieSI6MTEyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M373.481,62L385.901,66.167C398.321,70.333,423.16,78.667,435.58,88.333C448,98,448,109,448,114.5L448,120" id="L_A_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_C_0" data-points="W3sieCI6MzczLjQ4MDc2OTIzMDc2OTIsInkiOjYyfSx7IngiOjQ0OCwieSI6ODd9LHsieCI6NDQ4LCJ5IjoxMjR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M138,238L138,242.167C138,246.333,138,254.667,138,264.333C138,274,138,285,138,290.5L138,296" id="L_B_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_D_0" data-points="W3sieCI6MTM4LCJ5IjoyMzh9LHsieCI6MTM4LCJ5IjoyNjN9LHsieCI6MTM4LCJ5IjozMDB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M448,226L448,232.167C448,238.333,448,250.667,448,260.333C448,270,448,277,448,280.5L448,284" id="L_C_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_E_0" data-points="W3sieCI6NDQ4LCJ5IjoyMjZ9LHsieCI6NDQ4LCJ5IjoyNjN9LHsieCI6NDQ4LCJ5IjoyODh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M138,426L138,432.167C138,438.333,138,450.667,144.759,460.671C151.519,470.675,165.037,478.35,171.796,482.188L178.556,486.025" id="L_D_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_F_0" data-points="W3sieCI6MTM4LCJ5Ijo0MjZ9LHsieCI6MTM4LCJ5Ijo0NjN9LHsieCI6MTgyLjAzNDA5MDkwOTA5MDksInkiOjQ4OH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M448,438L448,442.167C448,446.333,448,454.667,441.241,462.671C434.481,470.675,420.963,478.35,414.204,482.188L407.444,486.025" id="L_E_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_F_0" data-points="W3sieCI6NDQ4LCJ5Ijo0Mzh9LHsieCI6NDQ4LCJ5Ijo0NjN9LHsieCI6NDAzLjk2NTkwOTA5MDkwOTEsInkiOjQ4OH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M293,614L293,618.167C293,622.333,293,630.667,293,638.333C293,646,293,653,293,656.5L293,660" id="L_F_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_F_G_0" data-points="W3sieCI6MjkzLCJ5Ijo2MTR9LHsieCI6MjkzLCJ5Ijo2Mzl9LHsieCI6MjkzLCJ5Ijo2NjR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_A_C_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_B_D_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_C_E_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_D_F_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_E_F_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_F_G_0" transform="translate(0, 0)"></g></g></g><g class="nodes"><g class="node default start" id="flowchart-A-0" transform="translate(293, 35)"><rect class="basic label-container" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:3px !important" x="-116.609375" y="-27" width="233.21875" height="54"/><g class="label" style="color:#000 !important" transform="translate(-86.609375, -12)"><text x="86.609375" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">üéØ HA/DR Architecture</text></g></g><g class="node default hotSync" id="flowchart-B-1" transform="translate(138, 175)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-130" y="-63" width="260" height="126"/><g class="label" style="color:#000 !important" transform="translate(-100, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="42.400000000000006">Within Each Site (DC & DR)</tspan><tspan x="100.0" y="62.0">Hot Sync - Oplog Replication</tspan></text></g></g><g class="node default backup" id="flowchart-C-3" transform="translate(448, 175)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="30.400000000000002">Between Sites (DC ‚Üí DR)</tspan><tspan x="100.0" y="50.0">Incremental Backup & Restore</tspan></text></g></g><g class="node default hotSync" id="flowchart-D-5" transform="translate(138, 363)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-108.03125" y="-63" width="216.0625" height="126"/><g class="label" style="color:#000 !important" transform="translate(-78.03125, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="78.03125" y="22.800000000000004">‚úÖ Automatic Failover</tspan><tspan x="78.03125" y="42.400000000000006">20-35 minutes</tspan><tspan x="78.03125" y="62.0">RPO: ~1 minute</tspan><tspan x="78.03125" y="81.6">(LOCAL HA)</tspan></text></g></g><g class="node default backup" id="flowchart-E-7" transform="translate(448, 363)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#000 !important" transform="translate(-100, -60)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="100.0" y="34.800000000000004">‚úÖ Automated Sync (1 hour)</tspan><tspan x="100.0" y="54.400000000000006">‚ö†Ô∏è Manual DR Activation</tspan><tspan x="100.0" y="74.0">RPO: ~1 hour</tspan><tspan x="100.0" y="93.6">(CROSS-SITE DR)</tspan></text></g></g><g class="node default success" id="flowchart-F-9" transform="translate(293, 551)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:4px !important" x="-130" y="-63" width="260" height="126"/><g class="label" style="color:#000 !important" transform="translate(-100, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="42.400000000000006">Combined Architecture</tspan><tspan x="100.0" y="62.0">Local HA (automatic) + Cross-Site DR (manual activation)</tspan></text></g></g><g class="node default success" id="flowchart-G-13" transform="translate(293, 727)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:4px !important" x="-130" y="-63" width="260" height="126"/><g class="label" style="color:#000 !important" transform="translate(-100, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="32.6">‚úÖ Deployment Complete</tspan><tspan x="100.0" y="52.2">‚Ä¢ Hot Sync within sites</tspan><tspan x="100.0" y="71.8">‚Ä¢ Incremental Backup between sites</tspan></text></g></g></g></g></g></svg>
</div>
<h3 id="hot-sync-oplog-replication---within-each-site-only">Hot Sync
(Oplog Replication) - Within Each Site Only</h3>
<p><strong>Important</strong>: Hot Sync (MongoDB oplog-based
replication) is used <strong>ONLY for local HA within each
site</strong>, NOT for cross-site DC‚ÜíDR synchronization.</p>
<p><strong>Within DC Site:</strong> - DC PRIMARY automatically
replicates oplog entries to DC SECONDARY over port 27017 - Near
real-time data synchronization (~1 minute lag) - Enables automatic
failover: DC SECONDARY can become PRIMARY within 20-35 minutes</p>
<p><strong>Within DR Site:</strong> - DR PRIMARY automatically
replicates oplog entries to DR SECONDARY over port 27017<br />
- Near real-time data synchronization (~1 minute lag) - Enables
automatic failover: DR SECONDARY can become PRIMARY within 20-35
minutes</p>
<p><strong>NOT Used for Cross-Site:</strong> - Hot Sync/oplog
replication is NOT used between DC and DR sites - DC‚ÜíDR synchronization
uses Incremental Backup &amp; Restore only (1-hour intervals)</p>
<p>Notes and operational considerations: - Hot Sync operates
independently within each site for local high availability - Monitor
oplog window sizes and network reliability within each site - Configure
appropriate oplog retention for each replica set - Cross-site
synchronization relies on automated incremental backups, not oplog
replication</p>
<h4 id="hot-sync-replication-workflow-within-each-site">Hot Sync
Replication Workflow (Within Each Site)</h4>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1016.65px; background-color: white;" viewBox="0 0 1016.6484375 1077" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .titleStyle&gt;*{fill:#4169e1!important;stroke:#1e3a8a!important;stroke-width:4px!important;color:#fff!important;font-size:16px!important;}#my-svg .titleStyle span{fill:#4169e1!important;stroke:#1e3a8a!important;stroke-width:4px!important;color:#fff!important;font-size:16px!important;}#my-svg .titleStyle tspan{fill:#fff!important;}#my-svg .localHA&gt;*{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:3px!important;color:#000!important;}#my-svg .localHA span{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:3px!important;color:#000!important;}#my-svg .localHA tspan{fill:#000!important;}#my-svg .backup&gt;*{fill:#fff3cd!important;stroke:#856404!important;stroke-width:3px!important;color:#000!important;}#my-svg .backup span{fill:#fff3cd!important;stroke:#856404!important;stroke-width:3px!important;color:#000!important;}#my-svg .backup tspan{fill:#000!important;}#my-svg .failover&gt;*{fill:#f8d7da!important;stroke:#721c24!important;stroke-width:3px!important;color:#000!important;}#my-svg .failover span{fill:#f8d7da!important;stroke:#721c24!important;stroke-width:3px!important;color:#000!important;}#my-svg .failover tspan{fill:#000!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="FO" data-look="classic"><rect style="" x="8" y="917" width="776.1640625" height="152"/><g class="cluster-label" transform="translate(315.40234375, 917)"><text x="80.6796875" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">üö® FAILOVER TYPES</text></g></g><g class="cluster" id="IB" data-look="classic"><rect style="" x="480.0703125" y="387" width="528.578125" height="456"/><g class="cluster-label" transform="translate(644.359375, 387)"><text x="100.0" y="40.666666666666664" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">üì¶ CROSS-SITE DR: Incremental Backup & Restore (DC ‚Üí DR)</text></g></g><g class="cluster" id="LHA" data-look="classic"><rect style="" x="130.0703125" y="186" width="330" height="657"/><g class="cluster-label" transform="translate(195.0703125, 186)"><text x="100.0" y="28.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">üîÑ LOCAL HA - Both DC & DR Sites (Hot Sync)</text></g></g><g class="cluster" id="OVERVIEW" data-look="classic"><rect style="" x="8" y="8" width="695.828125" height="128"/><g class="cluster-label" transform="translate(300.71875, 8)"><text x="55.1953125" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">üéØ OVERVIEW</text></g></g></g><g class="edgePaths"><path d="M295.07,337L295.07,341.167C295.07,345.333,295.07,353.667,295.07,362C295.07,370.333,295.07,378.667,295.07,386.333C295.07,394,295.07,401,295.07,404.5L295.07,408" id="L_LHA1_LHA2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LHA1_LHA2_0" data-points="W3sieCI6Mjk1LjA3MDMxMjUsInkiOjMzN30seyJ4IjoyOTUuMDcwMzEyNSwieSI6MzYyfSx7IngiOjI5NS4wNzAzMTI1LCJ5IjozODd9LHsieCI6Mjk1LjA3MDMxMjUsInkiOjQxMn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M295.07,514L295.07,518.167C295.07,522.333,295.07,530.667,295.07,538.333C295.07,546,295.07,553,295.07,556.5L295.07,560" id="L_LHA2_LHA3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LHA2_LHA3_0" data-points="W3sieCI6Mjk1LjA3MDMxMjUsInkiOjUxNH0seyJ4IjoyOTUuMDcwMzEyNSwieSI6NTM5fSx7IngiOjI5NS4wNzAzMTI1LCJ5Ijo1NjR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M295.07,642L295.07,646.167C295.07,650.333,295.07,658.667,295.07,666.333C295.07,674,295.07,681,295.07,684.5L295.07,688" id="L_LHA3_LHA4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LHA3_LHA4_0" data-points="W3sieCI6Mjk1LjA3MDMxMjUsInkiOjY0Mn0seyJ4IjoyOTUuMDcwMzEyNSwieSI6NjY3fSx7IngiOjI5NS4wNzAzMTI1LCJ5Ijo2OTJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M621.328,502L621.328,508.167C621.328,514.333,621.328,526.667,621.328,536.333C621.328,546,621.328,553,621.328,556.5L621.328,560" id="L_IB1_IB2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_IB1_IB2_0" data-points="W3sieCI6NjIxLjMyODEyNSwieSI6NTAyfSx7IngiOjYyMS4zMjgxMjUsInkiOjUzOX0seyJ4Ijo2MjEuMzI4MTI1LCJ5Ijo1NjR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M621.328,642L621.328,646.167C621.328,650.333,621.328,658.667,621.328,670.333C621.328,682,621.328,697,621.328,704.5L621.328,712" id="L_IB2_IB3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_IB2_IB3_0" data-points="W3sieCI6NjIxLjMyODEyNSwieSI6NjQyfSx7IngiOjYyMS4zMjgxMjUsInkiOjY2N30seyJ4Ijo2MjEuMzI4MTI1LCJ5Ijo3MTZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M875.617,630L875.617,636.167C875.617,642.333,875.617,654.667,875.617,668.333C875.617,682,875.617,697,875.617,704.5L875.617,712" id="L_IB4_IB5_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_IB4_IB5_0" data-points="W3sieCI6ODc1LjYxNzE4NzUsInkiOjYzMH0seyJ4Ijo4NzUuNjE3MTg3NSwieSI6NjY3fSx7IngiOjg3NS42MTcxODc1LCJ5Ijo3MTZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M295.07,111L295.07,115.167C295.07,119.333,295.07,127.667,295.07,136C295.07,144.333,295.07,152.667,295.07,161C295.07,169.333,295.07,177.667,295.07,185.333C295.07,193,295.07,200,295.07,203.5L295.07,207" id="L_TITLE_LHA1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_TITLE_LHA1_0" data-points="W3sieCI6Mjk1LjA3MDMxMjUsInkiOjExMX0seyJ4IjoyOTUuMDcwMzEyNSwieSI6MTM2fSx7IngiOjI5NS4wNzAzMTI1LCJ5IjoxNjF9LHsieCI6Mjk1LjA3MDMxMjUsInkiOjE4Nn0seyJ4IjoyOTUuMDcwMzEyNSwieSI6MjExfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M425.07,97.501L457.78,103.918C490.49,110.334,555.909,123.167,588.618,133.75C621.328,144.333,621.328,152.667,621.328,161C621.328,169.333,621.328,177.667,621.328,196.5C621.328,215.333,621.328,244.667,621.328,274C621.328,303.333,621.328,332.667,621.328,351.5C621.328,370.333,621.328,378.667,621.328,388.333C621.328,398,621.328,409,621.328,414.5L621.328,420" id="L_TITLE_IB1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_TITLE_IB1_0" data-points="W3sieCI6NDI1LjA3MDMxMjUsInkiOjk3LjUwMTMwNTA0NTM3NzI2fSx7IngiOjYyMS4zMjgxMjUsInkiOjEzNn0seyJ4Ijo2MjEuMzI4MTI1LCJ5IjoxNjF9LHsieCI6NjIxLjMyODEyNSwieSI6MTg2fSx7IngiOjYyMS4zMjgxMjUsInkiOjI3NH0seyJ4Ijo2MjEuMzI4MTI1LCJ5IjozNjJ9LHsieCI6NjIxLjMyODEyNSwieSI6Mzg3fSx7IngiOjYyMS4zMjgxMjUsInkiOjQyNH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M182.336,111L170.292,115.167C158.247,119.333,134.159,127.667,122.115,136C110.07,144.333,110.07,152.667,110.07,161C110.07,169.333,110.07,177.667,110.07,196.5C110.07,215.333,110.07,244.667,110.07,274C110.07,303.333,110.07,332.667,110.07,351.5C110.07,370.333,110.07,378.667,110.07,395.5C110.07,412.333,110.07,437.667,110.07,463C110.07,488.333,110.07,513.667,110.07,537C110.07,560.333,110.07,581.667,110.07,603C110.07,624.333,110.07,645.667,110.07,671C110.07,696.333,110.07,725.667,110.07,755C110.07,784.333,110.07,813.667,110.07,834.5C110.07,855.333,110.07,867.667,110.07,880C110.07,892.333,110.07,904.667,114.649,914.578C119.228,924.489,128.385,931.978,132.964,935.723L137.543,939.468" id="L_TITLE_FO1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_TITLE_FO1_0" data-points="W3sieCI6MTgyLjMzNTkzNzUsInkiOjExMX0seyJ4IjoxMTAuMDcwMzEyNSwieSI6MTM2fSx7IngiOjExMC4wNzAzMTI1LCJ5IjoxNjF9LHsieCI6MTEwLjA3MDMxMjUsInkiOjE4Nn0seyJ4IjoxMTAuMDcwMzEyNSwieSI6Mjc0fSx7IngiOjExMC4wNzAzMTI1LCJ5IjozNjJ9LHsieCI6MTEwLjA3MDMxMjUsInkiOjM4N30seyJ4IjoxMTAuMDcwMzEyNSwieSI6NDYzfSx7IngiOjExMC4wNzAzMTI1LCJ5Ijo1Mzl9LHsieCI6MTEwLjA3MDMxMjUsInkiOjYwM30seyJ4IjoxMTAuMDcwMzEyNSwieSI6NjY3fSx7IngiOjExMC4wNzAzMTI1LCJ5Ijo3NTV9LHsieCI6MTEwLjA3MDMxMjUsInkiOjg0M30seyJ4IjoxMTAuMDcwMzEyNSwieSI6ODgwfSx7IngiOjExMC4wNzAzMTI1LCJ5Ijo5MTd9LHsieCI6MTQwLjYzOTI4ODY1MTMxNTc4LCJ5Ijo5NDJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M295.07,818L295.07,822.167C295.07,826.333,295.07,834.667,295.07,845C295.07,855.333,295.07,867.667,295.07,880C295.07,892.333,295.07,904.667,290.537,914.576C286.003,924.485,276.936,931.969,272.402,935.711L267.869,939.454" id="L_LHA4_FO1_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LHA4_FO1_0" data-points="W3sieCI6Mjk1LjA3MDMxMjUsInkiOjgxOH0seyJ4IjoyOTUuMDcwMzEyNSwieSI6ODQzfSx7IngiOjI5NS4wNzAzMTI1LCJ5Ijo4ODB9LHsieCI6Mjk1LjA3MDMxMjUsInkiOjkxN30seyJ4IjoyNjQuNzg0MDI1NDkzNDIxMDQsInkiOjk0Mn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M621.328,794L621.328,802.167C621.328,810.333,621.328,826.667,621.328,841C621.328,855.333,621.328,867.667,621.328,880C621.328,892.333,621.328,904.667,621.328,914.333C621.328,924,621.328,931,621.328,934.5L621.328,938" id="L_IB3_FO2_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_IB3_FO2_0" data-points="W3sieCI6NjIxLjMyODEyNSwieSI6Nzk0fSx7IngiOjYyMS4zMjgxMjUsInkiOjg0M30seyJ4Ijo2MjEuMzI4MTI1LCJ5Ijo4ODB9LHsieCI6NjIxLjMyODEyNSwieSI6OTE3fSx7IngiOjYyMS4zMjgxMjUsInkiOjk0Mn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_LHA1_LHA2_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_LHA2_LHA3_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_LHA3_LHA4_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_IB1_IB2_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_IB2_IB3_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_IB4_IB5_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_TITLE_LHA1_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_TITLE_IB1_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_TITLE_FO1_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(295.0703125, 880)"><g class="label" transform="translate(-32.4609375, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Local HA</text></g></g><g class="edgeLabel" transform="translate(621.328125, 880)"><g class="label" transform="translate(-51.1171875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Cross-Site DR</text></g></g></g><g class="nodes"><g class="node default titleStyle" id="flowchart-TITLE-0" transform="translate(295.0703125, 72)"><rect class="basic label-container" style="fill:#4169e1 !important;stroke:#1e3a8a !important;stroke-width:4px !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#fff !important;font-size:16px !important" transform="translate(-100, -24)"><text x="100.0" y="28.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">Securaa HA/DR Architecture</text></g></g><g class="node default localHA" id="flowchart-LHA1-1" transform="translate(295.0703125, 274)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-130" y="-63" width="260" height="126"/><g class="label" style="color:#000 !important" transform="translate(-100, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="32.6">MongoDB Replica Set</tspan><tspan x="100.0" y="52.2">3 Servers (2 data + 1 arbiter)</tspan><tspan x="100.0" y="71.8">Port 27017</tspan></text></g></g><g class="node default localHA" id="flowchart-LHA2-2" transform="translate(295.0703125, 463)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-129.140625" y="-51" width="258.28125" height="102"/><g class="label" style="color:#000 !important" transform="translate(-99.140625, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="99.140625" y="20.6">Oplog Replication</tspan><tspan x="99.140625" y="40.2">PRIMARY ‚Üí SECONDARY</tspan><tspan x="99.140625" y="59.8">~1 min lag</tspan></text></g></g><g class="node default localHA" id="flowchart-LHA3-3" transform="translate(295.0703125, 603)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-90.921875" y="-39" width="181.84375" height="78"/><g class="label" style="color:#000 !important" transform="translate(-60.921875, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="60.921875" y="18.400000000000002">Auto Failover</tspan><tspan x="60.921875" y="38.0">‚è± 20-35 minutes</tspan></text></g></g><g class="node default localHA" id="flowchart-LHA4-4" transform="translate(295.0703125, 755)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-130" y="-63" width="260" height="126"/><g class="label" style="color:#000 !important" transform="translate(-100, -48)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="32.6">2x Data Redundancy</tspan><tspan x="100.0" y="52.2">PRIMARY + SECONDARY (data)</tspan><tspan x="100.0" y="71.8">+ Arbiter (voting only)</tspan></text></g></g><g class="node default backup" id="flowchart-IB1-9" transform="translate(621.328125, 463)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-93.5859375" y="-39" width="187.171875" height="78"/><g class="label" style="color:#000 !important" transform="translate(-63.5859375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="63.5859375" y="18.400000000000002">‚è± Every 1 hour</tspan><tspan x="63.5859375" y="38.0">(Automated Cron)</tspan></text></g></g><g class="node default backup" id="flowchart-IB2-10" transform="translate(621.328125, 603)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-90.09375" y="-39" width="180.1875" height="78"/><g class="label" style="color:#000 !important" transform="translate(-60.09375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="60.09375" y="18.400000000000002">üîí SCP Transfer</tspan><tspan x="60.09375" y="38.0">Port 22</tspan></text></g></g><g class="node default backup" id="flowchart-IB3-11" transform="translate(621.328125, 755)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-106.2578125" y="-39" width="212.515625" height="78"/><g class="label" style="color:#000 !important" transform="translate(-76.2578125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="76.2578125" y="18.400000000000002">‚úÖ DR Standby State</tspan><tspan x="76.2578125" y="38.0">(Data Synchronized)</tspan></text></g></g><g class="node default backup" id="flowchart-IB4-12" transform="translate(875.6171875, 603)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-86.6875" y="-27" width="173.375" height="54"/><g class="label" style="color:#000 !important" transform="translate(-56.6875, -12)"><text x="56.6875" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">üìä RPO: 1 hour</text></g></g><g class="node default backup" id="flowchart-IB5-13" transform="translate(875.6171875, 755)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-98.03125" y="-39" width="196.0625" height="78"/><g class="label" style="color:#000 !important" transform="translate(-68.03125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="68.03125" y="18.400000000000002">‚è± RTO: 5-15 min</tspan><tspan x="68.03125" y="38.0">(Manual Activation)</tspan></text></g></g><g class="node default failover" id="flowchart-FO1-19" transform="translate(203, 993)"><rect class="basic label-container" style="fill:#f8d7da !important;stroke:#721c24 !important;stroke-width:3px !important" x="-129.140625" y="-51" width="258.28125" height="102"/><g class="label" style="color:#000 !important" transform="translate(-99.140625, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="99.140625" y="20.6">Within Site (Automatic)</tspan><tspan x="99.140625" y="40.2">PRIMARY ‚Üí SECONDARY</tspan><tspan x="99.140625" y="59.8">20-35 minutes</tspan></text></g></g><g class="node default failover" id="flowchart-FO2-20" transform="translate(621.328125, 993)"><rect class="basic label-container" style="fill:#f8d7da !important;stroke:#721c24 !important;stroke-width:3px !important" x="-127.8359375" y="-51" width="255.671875" height="102"/><g class="label" style="color:#000 !important" transform="translate(-97.8359375, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="97.8359375" y="20.6">Cross-Site (Manual)</tspan><tspan x="97.8359375" y="40.2">DC ‚Üí DR Activation</tspan><tspan x="97.8359375" y="59.8">Admin intervention required</tspan></text></g></g></g></g></g></svg>
</div>
<p><strong>Note</strong>: The same Hot Sync (oplog replication) process
operates independently within the DR site (DR Primary ‚Üí DR
Secondary).</p>
<hr />
<h2 id="failover-mechanisms">Failover Mechanisms</h2>
<h3
id="dcdr-incremental-backup-restore-failover-automatic-sync-manual-activation">1.
DC‚ÄìDR Incremental Backup &amp; Restore Failover (Automatic Sync, Manual
Activation)</h3>
<ul>
<li>Detection: Administrator monitors DC and detects
unavailability.</li>
<li>Automated cron jobs have already synchronized the latest incremental
backups to DR.</li>
<li>Administrator validates latest incremental backup is present and
intact on DR.</li>
<li>Administrator manually starts and validates services on DR (data is
already synchronized automatically).</li>
<li>Users are redirected (DNS / load balancer / manual configuration) to
DR UI.</li>
</ul>
<p>Estimated timings: - Detection phase: minutes to hours (depends on
manual monitoring). - Service activation: ‚âà 5‚Äì15 minutes (data is
already synchronized; only service startup required). - Total RTO
depends on detection time plus manual service activation time.</p>
<h4 id="incremental-backup-failover-flow">Incremental Backup Failover
Flow</h4>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 2721.2px; background-color: white;" viewBox="0 0 2721.203125 529" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .primaryStyle&gt;*{fill:#4169e1!important;stroke:#1e3a8a!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;font-weight:bold!important;}#my-svg .primaryStyle span{fill:#4169e1!important;stroke:#1e3a8a!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;font-weight:bold!important;}#my-svg .primaryStyle tspan{fill:#fff!important;}#my-svg .secondaryStyle&gt;*{fill:#10b981!important;stroke:#047857!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;font-weight:bold!important;}#my-svg .secondaryStyle span{fill:#10b981!important;stroke:#047857!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;font-weight:bold!important;}#my-svg .secondaryStyle tspan{fill:#fff!important;}#my-svg .arbiterStyle&gt;*{fill:#6b7280!important;stroke:#374151!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;font-weight:bold!important;}#my-svg .arbiterStyle span{fill:#6b7280!important;stroke:#374151!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;font-weight:bold!important;}#my-svg .arbiterStyle tspan{fill:#fff!important;}#my-svg .soarStyle&gt;*{fill:#f59e0b!important;stroke:#b45309!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;}#my-svg .soarStyle span{fill:#f59e0b!important;stroke:#b45309!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;}#my-svg .soarStyle tspan{fill:#fff!important;}#my-svg .failoverStyle&gt;*{fill:#ef4444!important;stroke:#b91c1c!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;}#my-svg .failoverStyle span{fill:#ef4444!important;stroke:#b91c1c!important;stroke-width:3px!important;color:#fff!important;font-size:14px!important;}#my-svg .failoverStyle tspan{fill:#fff!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="root" transform="translate(0, 122.5)"><g class="clusters"><g class="cluster" id="FAILOVER" data-look="classic"><rect style="" x="8" y="8" width="938.21875" height="268"/><g class="cluster-label" transform="translate(410.4140625, 8)"><text x="66.6953125" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">Failover Scenario</text></g></g></g><g class="edgePaths"><path d="M283.453,142L289.703,142C295.953,142,308.453,142,320.286,142C332.12,142,343.286,142,348.87,142L354.453,142" id="L_FAIL_ELECT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_FAIL_ELECT_0" data-points="W3sieCI6MjgzLjQ1MzEyNSwieSI6MTQyfSx7IngiOjMyMC45NTMxMjUsInkiOjE0Mn0seyJ4IjozNTguNDUzMTI1LCJ5IjoxNDJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M573.719,142L579.969,142C586.219,142,598.719,142,610.552,142C622.385,142,633.552,142,639.135,142L644.719,142" id="L_ELECT_NEWPRIMARY_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ELECT_NEWPRIMARY_0" data-points="W3sieCI6NTczLjcxODc1LCJ5IjoxNDJ9LHsieCI6NjExLjIxODc1LCJ5IjoxNDJ9LHsieCI6NjQ4LjcxODc1LCJ5IjoxNDJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_FAIL_ELECT_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_ELECT_NEWPRIMARY_0" transform="translate(0, 0)"></g></g></g><g class="nodes"><g class="node default failoverStyle" id="flowchart-FAIL-19" transform="translate(164.4765625, 142)"><rect class="basic label-container" style="fill:#ef4444 !important;stroke:#b91c1c !important;stroke-width:3px !important" x="-118.9765625" y="-25.5" width="237.953125" height="51"/><g class="label" style="color:#fff !important;font-size:14px !important" transform="translate(-88.9765625, -10.5)"><text x="88.9765625" y="15.166666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">‚ö† PRIMARY Server Failure</text></g></g><g class="node default failoverStyle" id="flowchart-ELECT-20" transform="translate(466.0859375, 142)"><rect class="basic label-container" style="fill:#ef4444 !important;stroke:#b91c1c !important;stroke-width:3px !important" x="-107.6328125" y="-46.5" width="215.265625" height="93"/><g class="label" style="color:#fff !important;font-size:14px !important" transform="translate(-77.6328125, -31.5)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="77.6328125" y="16.1">Election Process</tspan><tspan x="77.6328125" y="35.7">Secondary + Arbiter Vote</tspan><tspan x="77.6328125" y="55.3">‚è± 20-35 minutes</tspan></text></g></g><g class="node default primaryStyle" id="flowchart-NEWPRIMARY-21" transform="translate(778.71875, 142)"><rect class="basic label-container" style="fill:#4169e1 !important;stroke:#1e3a8a !important;stroke-width:3px !important" x="-130" y="-99" width="260" height="198"/><g class="label" style="color:#fff !important;font-size:14px !important;font-weight:bold !important" transform="translate(-100, -84)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="100.0" y="58.800000000000004">‚úì SECONDARY Promoted to Primary</tspan><tspan x="100.0" y="78.4">SOAR Standby ‚Üí SOAR Active</tspan><tspan x="100.0" y="98.0">MongoDB Secondary ‚Üí MongoDB Primary</tspan><tspan x="100.0" y="117.6">ALL Read/Write switch to New Primary</tspan></text></g></g></g></g><g class="root" transform="translate(988.21875, 0)"><g class="clusters"><g class="cluster" id="SITE" data-look="classic"><rect style="" x="8" y="8" width="1716.984375" height="513"/><g class="cluster-label" transform="translate(770.4609375, 8)"><text x="96.03125" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">DC or DR Site (3 Servers)</text></g></g><g class="cluster" id="SERVER3" data-look="classic"><rect style="" x="1400.734375" y="28" width="286.75" height="226"/><g class="cluster-label" transform="translate(1459.65625, 28)"><text x="84.453125" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">SECONDARY (Arbiter)</text></g></g><g class="cluster" id="SERVER2" data-look="classic"><rect style="" x="1005.953125" y="274" width="681.53125" height="227"/><g class="cluster-label" transform="translate(1295.8984375, 274)"><text x="50.8203125" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">SECONDARY</text></g></g><g class="cluster" id="SERVER1" data-look="classic"><rect style="" x="45.5" y="101" width="748.5625" height="380.5"/><g class="cluster-label" transform="translate(383.1875, 101)"><text x="36.59375" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">PRIMARY</text></g></g></g><g class="edgePaths"><path d="M228.462,304L256.82,276.167C285.178,248.333,341.894,192.667,395.003,186.972C448.112,181.278,497.615,225.556,522.367,247.694L547.118,269.833" id="L_SOAR_PRI_PRIMARY_0" class="edge-thickness-thick edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SOAR_PRI_PRIMARY_0" data-points="W3sieCI6MjI4LjQ2MjIzNjUzMzk1Nzg1LCJ5IjozMDR9LHsieCI6Mzk4LjYwOTM3NSwieSI6MTM3fSx7IngiOjU1MC4wOTk4NDI2NTIyMjQ5LCJ5IjoyNzIuNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M279.172,376.879L299.078,382.232C318.984,387.586,358.797,398.293,397.962,398.927C437.127,399.56,475.644,390.12,494.903,385.4L514.162,380.68" id="L_SOAR_PRI_PRIMARY_2" class="edge-thickness-thick edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SOAR_PRI_PRIMARY_2" data-points="W3sieCI6Mjc5LjE3MTg3NSwieSI6Mzc2Ljg3ODg5MjM2MDczN30seyJ4IjozOTguNjA5Mzc1LCJ5Ijo0MDl9LHsieCI6NTE4LjA0Njg3NSwieSI6Mzc5LjcyNzk4MDg4NTY3NDA3fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M756.563,350.5L762.813,350.5C769.063,350.5,781.563,350.5,805.47,350.5C829.378,350.5,864.693,350.5,900.008,350.5C935.323,350.5,970.638,350.5,993.899,351.925C1017.161,353.351,1028.369,356.201,1033.973,357.627L1039.577,359.052" id="L_PRIMARY_SECONDARY1_0" class="edge-thickness-thick edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PRIMARY_SECONDARY1_0" data-points="W3sieCI6NzU2LjU2MjUsInkiOjM1MC41fSx7IngiOjc5NC4wNjI1LCJ5IjozNTAuNX0seyJ4Ijo5MDAuMDA3ODEyNSwieSI6MzUwLjV9LHsieCI6MTAwNS45NTMxMjUsInkiOjM1MC41fSx7IngiOjEwNDMuNDUzMTI1LCJ5IjozNjAuMDM3ODA4MjYzOTIyOX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M756.563,399.57L762.813,402.142C769.063,404.713,781.563,409.857,805.47,412.428C829.378,415,864.693,415,900.008,415C935.323,415,970.638,415,993.891,413.908C1017.144,412.816,1028.336,410.633,1033.931,409.541L1039.527,408.449" id="L_PRIMARY_SECONDARY1_2" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PRIMARY_SECONDARY1_2" data-points="W3sieCI6NzU2LjU2MjUsInkiOjM5OS41NzAxNDcwMjIxNzc5M30seyJ4Ijo3OTQuMDYyNSwieSI6NDE1fSx7IngiOjkwMC4wMDc4MTI1LCJ5Ijo0MTV9LHsieCI6MTAwNS45NTMxMjUsInkiOjQxNX0seyJ4IjoxMDQzLjQ1MzEyNSwieSI6NDA3LjY4MzMyNTE2NzQwMTZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M695.668,272.5L712.067,250.583C728.466,228.667,761.264,184.833,795.321,162.917C829.378,141,864.693,141,900.008,141C935.323,141,970.638,141,1012.214,141C1053.789,141,1101.625,141,1155.316,141C1209.008,141,1268.555,141,1310.434,141C1352.313,141,1376.523,141,1394.212,141C1411.901,141,1423.068,141,1428.651,141L1434.234,141" id="L_PRIMARY_ARBITER_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PRIMARY_ARBITER_0" data-points="W3sieCI6Njk1LjY2Nzk3ODA3Mjc5MjQsInkiOjI3Mi41fSx7IngiOjc5NC4wNjI1LCJ5IjoxNDF9LHsieCI6OTAwLjAwNzgxMjUsInkiOjE0MX0seyJ4IjoxMDA1Ljk1MzEyNSwieSI6MTQxfSx7IngiOjExNDkuNDYwOTM3NSwieSI6MTQxfSx7IngiOjEzMjguMTAxNTYyNSwieSI6MTQxfSx7IngiOjE0MDAuNzM0Mzc1LCJ5IjoxNDF9LHsieCI6MTQzOC4yMzQzNzUsInkiOjE0MX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1255.469,362.967L1267.574,360.222C1279.68,357.478,1303.891,351.989,1328.102,349.244C1352.313,346.5,1376.523,346.5,1403.073,325.797C1429.623,305.093,1458.512,263.687,1472.956,242.984L1487.401,222.28" id="L_SECONDARY1_ARBITER_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SECONDARY1_ARBITER_0" data-points="W3sieCI6MTI1NS40Njg3NSwieSI6MzYyLjk2Njc0MTAxMjg1NzU0fSx7IngiOjEzMjguMTAxNTYyNSwieSI6MzQ2LjV9LHsieCI6MTQwMC43MzQzNzUsInkiOjM0Ni41fSx7IngiOjE0ODkuNjg5NjY2OTcwODAyOCwieSI6MjE5fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1255.469,400.055L1267.574,401.546C1279.68,403.037,1303.891,406.018,1328.102,407.509C1352.313,409,1376.523,409,1396.854,409C1417.185,409,1433.635,409,1441.861,409L1450.086,409" id="L_SECONDARY1_SOAR_SEC1_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SECONDARY1_SOAR_SEC1_0" data-points="W3sieCI6MTI1NS40Njg3NSwieSI6NDAwLjA1NTEwMzY0NzMzNjY0fSx7IngiOjEzMjguMTAxNTYyNSwieSI6NDA5fSx7IngiOjE0MDAuNzM0Mzc1LCJ5Ijo0MDl9LHsieCI6MTQ1NC4wODU5Mzc1LCJ5Ijo0MDl9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(386.06232, 149.31498)"><g class="label" data-id="L_SOAR_PRI_PRIMARY_0" transform="translate(-81.6484375, -12.0)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">ALL Read Operations</text></g></g><g class="edgeLabel" transform="translate(398.609375, 409)"><g class="label" data-id="L_SOAR_PRI_PRIMARY_2" transform="translate(-81.9375, -12.0)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">ALL Write Operations</text></g></g><g class="edgeLabel" transform="translate(900.0078125, 350.5)"><g class="label" data-id="L_PRIMARY_SECONDARY1_0" transform="translate(-68.4453125, -24.0)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;"><tspan x="0" y="-7.0">Oplog Replication</tspan><tspan x="0" y="7.0">(Data Sync)</tspan></text></g></g><g class="edgeLabel" transform="translate(900.0078125, 415)"><g class="label" transform="translate(-35.1328125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Heartbeat</text></g></g><g class="edgeLabel" transform="translate(1149.4609375, 141)"><g class="label" transform="translate(-35.1328125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Heartbeat</text></g></g><g class="edgeLabel" transform="translate(1328.1015625, 346.5)"><g class="label" transform="translate(-35.1328125, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Heartbeat</text></g></g><g class="edgeLabel" transform="translate(1328.1015625, 409)"><g class="label" transform="translate(-29.359375, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Standby</text></g></g></g><g class="nodes"><g class="node default arbiterStyle" id="flowchart-ARBITER-4" transform="translate(1544.109375, 141)"><rect class="basic label-container" style="fill:#6b7280 !important;stroke:#374151 !important;stroke-width:3px !important" x="-105.875" y="-78" width="211.75" height="156"/><g class="label" style="color:#fff !important;font-size:14px !important;font-weight:bold !important" transform="translate(-75.875, -63)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="75.875" y="18.200000000000003">Arbiter</tspan><tspan x="75.875" y="37.8">Port: 27017</tspan><tspan x="75.875" y="57.4">IP: 192.0.2.12 (DC)</tspan><tspan x="75.875" y="77.0">‚úó NO Data Storage</tspan><tspan x="75.875" y="96.6">‚úì Election Voting Only</tspan><tspan x="75.875" y="116.19999999999999">‚úì Tiebreaker</tspan></text></g></g><g class="node default soarStyle" id="flowchart-SOAR_PRI-1" transform="translate(181.0859375, 350.5)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#b45309 !important;stroke-width:3px !important" x="-98.0859375" y="-46.5" width="196.171875" height="93"/><g class="label" style="color:#fff !important;font-size:14px !important" transform="translate(-68.0859375, -31.5)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="68.0859375" y="16.1">SOAR Application</tspan><tspan x="68.0859375" y="35.7">Securaa UI (Port 443)</tspan><tspan x="68.0859375" y="55.3">SOAR Services</tspan></text></g></g><g class="node default primaryStyle" id="flowchart-PRIMARY-0" transform="translate(637.3046875, 350.5)"><rect class="basic label-container" style="fill:#4169e1 !important;stroke:#1e3a8a !important;stroke-width:3px !important" x="-119.2578125" y="-78" width="238.515625" height="156"/><g class="label" style="color:#fff !important;font-size:14px !important;font-weight:bold !important" transform="translate(-89.2578125, -63)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="89.2578125" y="18.200000000000003">MongoDB Primary</tspan><tspan x="89.2578125" y="37.8">Port: 27017</tspan><tspan x="89.2578125" y="57.4">IP: 192.0.2.10 (DC)</tspan><tspan x="89.2578125" y="77.0">‚úì ALL Read Operations</tspan><tspan x="89.2578125" y="96.6">‚úì ALL Write Operations</tspan><tspan x="89.2578125" y="116.19999999999999">‚úì Replicates to Secondary</tspan></text></g></g><g class="node default secondaryStyle" id="flowchart-SECONDARY1-2" transform="translate(1149.4609375, 387)"><rect class="basic label-container" style="fill:#10b981 !important;stroke:#047857 !important;stroke-width:3px !important" x="-106.0078125" y="-78" width="212.015625" height="156"/><g class="label" style="color:#fff !important;font-size:14px !important;font-weight:bold !important" transform="translate(-76.0078125, -63)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #fff; font-weight: bold;"><tspan x="76.0078125" y="18.200000000000003">MongoDB Secondary</tspan><tspan x="76.0078125" y="37.8">Port: 27017</tspan><tspan x="76.0078125" y="57.4">IP: 192.0.2.11 (DC)</tspan><tspan x="76.0078125" y="77.0">‚úì Data Replica</tspan><tspan x="76.0078125" y="96.6">‚úì Standby for Election</tspan><tspan x="76.0078125" y="116.19999999999999">‚úì Sync from Primary</tspan></text></g></g><g class="node default soarStyle" id="flowchart-SOAR_SEC1-3" transform="translate(1544.109375, 409)"><rect class="basic label-container" style="fill:#f59e0b !important;stroke:#b45309 !important;stroke-width:3px !important" x="-90.0234375" y="-36" width="180.046875" height="72"/><g class="label" style="color:#fff !important;font-size:14px !important" transform="translate(-60.0234375, -21)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="60.0234375" y="15.400000000000002">SOAR Application</tspan><tspan x="60.0234375" y="35.0">Standby Services</tspan></text></g></g></g></g></g></g></g></svg>
</div>
<h3 id="local-ha-failover-automatic---within-each-site">2. Local HA
Failover (Automatic - Within Each Site)</h3>
<p><strong>Within DC Site or DR Site:</strong> - When PRIMARY fails,
MongoDB replica set automatically initiates election - SECONDARY and
Arbiter participate in voting - SECONDARY is promoted to PRIMARY
automatically (20-35 minutes) - Application automatically reconnects to
new PRIMARY - No manual intervention required</p>
<p><strong>Process:</strong> 1. PRIMARY node becomes unavailable
(hardware failure, network issue, etc.) 2. SECONDARY and Arbiter detect
missed heartbeats 3. Automatic election begins (SECONDARY + Arbiter
vote) 4. SECONDARY wins election and becomes new PRIMARY 5. SOAR
application automatically reconnects to new PRIMARY 6. Normal operations
resume</p>
<p><strong>Estimated timings:</strong> - Election process: 10-15 seconds
- Application reconnection: 5-20 seconds<br />
- <strong>Total Failover: 20-35 minutes end-to-end</strong> - <strong>No
manual intervention required</strong></p>
<h4 id="local-ha-failover-flow-within-site">Local HA Failover Flow
(Within Site)</h4>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="max-width: 1738px; background-color: white;" viewBox="-59 -10 1738 1377" role="graphics-document document" aria-roledescription="sequence" preserveAspectRatio="xMidYMid meet"><rect x="-9" y="917" fill="rgb(230, 200, 200)" width="1574" height="354" class="rect"/><rect x="507" y="579" fill="rgb(200, 200, 230)" width="839" height="281" class="rect"/><rect x="300.5" y="168" fill="rgb(200, 230, 200)" width="809" height="401" class="rect"/><g><rect x="1479" y="1291" fill="#eaeaea" stroke="#666" width="150" height="65" name="ADMIN" rx="3" ry="3" class="actor actor-bottom"/><text x="1554" y="1323.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="1554" dy="0">Administrator</tspan></text></g><g><rect x="1260" y="1291" fill="#eaeaea" stroke="#666" width="150" height="65" name="DR_APP" rx="3" ry="3" class="actor actor-bottom"/><text x="1335" y="1323.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="1335" dy="0">DR Application</tspan></text></g><g><rect x="1023.5" y="1291" fill="#eaeaea" stroke="#666" width="150" height="65" name="DR_DB" rx="3" ry="3" class="actor actor-bottom"/><text x="1098.5" y="1323.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="1098.5" dy="0">DR MongoDB</tspan></text></g><g><rect x="794.5" y="1291" fill="#eaeaea" stroke="#666" width="150" height="65" name="SCP" rx="3" ry="3" class="actor actor-bottom"/><text x="869.5" y="1323.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="869.5" dy="0">SCP Transfer</tspan></text></g><g><rect x="539" y="1291" fill="#eaeaea" stroke="#666" width="153" height="65" name="CRON" rx="3" ry="3" class="actor actor-bottom"/><text x="615.5" y="1323.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="615.5" dy="0">Automated Cron Job</tspan></text></g><g><rect x="236.5" y="1291" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_DB" rx="3" ry="3" class="actor actor-bottom"/><text x="311.5" y="1323.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="311.5" dy="0">DC MongoDB</tspan></text></g><g><rect x="0" y="1291" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_APP" rx="3" ry="3" class="actor actor-bottom"/><text x="75" y="1323.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">DC Application</tspan></text></g><g><line id="actor6" x1="1554" y1="65" x2="1554" y2="1291" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="ADMIN"/><g id="root-6"><rect x="1479" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="ADMIN" rx="3" ry="3" class="actor actor-top"/><text x="1554" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="1554" dy="0">Administrator</tspan></text></g></g><g><line id="actor5" x1="1335" y1="65" x2="1335" y2="1291" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="DR_APP"/><g id="root-5"><rect x="1260" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="DR_APP" rx="3" ry="3" class="actor actor-top"/><text x="1335" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="1335" dy="0">DR Application</tspan></text></g></g><g><line id="actor4" x1="1098.5" y1="65" x2="1098.5" y2="1291" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="DR_DB"/><g id="root-4"><rect x="1023.5" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="DR_DB" rx="3" ry="3" class="actor actor-top"/><text x="1098.5" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="1098.5" dy="0">DR MongoDB</tspan></text></g></g><g><line id="actor3" x1="869.5" y1="65" x2="869.5" y2="1291" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="SCP"/><g id="root-3"><rect x="794.5" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="SCP" rx="3" ry="3" class="actor actor-top"/><text x="869.5" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="869.5" dy="0">SCP Transfer</tspan></text></g></g><g><line id="actor2" x1="615.5" y1="65" x2="615.5" y2="1291" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="CRON"/><g id="root-2"><rect x="539" y="0" fill="#eaeaea" stroke="#666" width="153" height="65" name="CRON" rx="3" ry="3" class="actor actor-top"/><text x="615.5" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="615.5" dy="0">Automated Cron Job</tspan></text></g></g><g><line id="actor1" x1="311.5" y1="65" x2="311.5" y2="1291" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="DC_DB"/><g id="root-1"><rect x="236.5" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_DB" rx="3" ry="3" class="actor actor-top"/><text x="311.5" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="311.5" dy="0">DC MongoDB</tspan></text></g></g><g><line id="actor0" x1="75" y1="65" x2="75" y2="1291" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="DC_APP"/><g id="root-0"><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_APP" rx="3" ry="3" class="actor actor-top"/><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">DC Application</tspan></text></g></g><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#my-svg text.actor&gt;tspan{fill:black;stroke:none;}#my-svg .actor-line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#my-svg .innerArc{stroke-width:1.5;stroke-dasharray:none;}#my-svg .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#my-svg .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#my-svg #arrowhead path{fill:#333;stroke:#333;}#my-svg .sequenceNumber{fill:white;}#my-svg #sequencenumber{fill:#333;}#my-svg #crosshead path{fill:#333;stroke:#333;}#my-svg .messageText{fill:#333;stroke:none;}#my-svg .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#my-svg .labelText,#my-svg .labelText&gt;tspan{fill:black;stroke:none;}#my-svg .loopText,#my-svg .loopText&gt;tspan{fill:black;stroke:none;}#my-svg .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#my-svg .note{stroke:#aaaa33;fill:#fff5ad;}#my-svg .noteText,#my-svg .noteText&gt;tspan{fill:black;stroke:none;}#my-svg .activation0{fill:#f4f4f4;stroke:#666;}#my-svg .activation1{fill:#f4f4f4;stroke:#666;}#my-svg .activation2{fill:#f4f4f4;stroke:#666;}#my-svg .actorPopupMenu{position:absolute;}#my-svg .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#my-svg .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#my-svg .actor-man circle,#my-svg line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g/><defs><symbol id="computer" width="24" height="24"><path transform="scale(.5)" d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"/></symbol></defs><defs><symbol id="database" fill-rule="evenodd" clip-rule="evenodd"><path transform="scale(.5)" d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z"/></symbol></defs><defs><symbol id="clock" width="24" height="24"><path transform="scale(.5)" d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"/></symbol></defs><defs><marker id="arrowhead" refX="7.9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto-start-reverse"><path d="M -1 0 L 10 5 L 0 10 z"/></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="4" refY="4.5"><path fill="none" stroke="#000000" stroke-width="1pt" d="M 1,2 L 6,7 M 6,2 L 1,7" style="stroke-dasharray: 0, 0;"/></marker></defs><defs><marker id="filled-head" refX="15.5" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker id="sequencenumber" refX="15" refY="15" markerWidth="60" markerHeight="40" orient="auto"><circle cx="15" cy="15" r="6"/></marker></defs><g><rect x="50" y="75" fill="#EDF2AE" stroke="#666" width="1310" height="37" class="note"/><text x="705" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="705">Normal Operations (Automated backup every ~1 hour)</tspan></text></g><g><rect x="474" y="188" fill="#EDF2AE" stroke="#666" width="283" height="37" class="note"/><text x="616" y="193" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="616">Cron Job Triggers Backup Automatically</tspan></text></g><g><rect x="517" y="599" fill="#EDF2AE" stroke="#666" width="197" height="37" class="note"/><text x="616" y="604" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="616">Automated Restore Process</tspan></text></g><g><rect x="50" y="870" fill="#EDF2AE" stroke="#666" width="1310" height="37" class="note"/><text x="705" y="875" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="705">DR is now synced (RPO = 1 hour)</tspan></text></g><g><rect x="50" y="937" fill="#EDF2AE" stroke="#666" width="1310" height="37" class="note"/><text x="705" y="942" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="705">DC Failure Scenario - Manual DR Activation</tspan></text></g><g><rect x="1190.5" y="1224" fill="#EDF2AE" stroke="#666" width="289" height="37" class="note"/><text x="1335" y="1229" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="1335">DR now serves traffic (manual activation)</tspan></text></g><text x="192" y="127" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Write Operations</text><line x1="76" y1="158" x2="307.5" y2="158" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="465" y="240" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Run backup command (incremental)</text><line x1="614.5" y1="271" x2="315.5" y2="271" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="462" y="286" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Incremental dump created</text><line x1="312.5" y1="317" x2="611.5" y2="317" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"/><text x="617" y="332" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Compress archive</text><path d="M 616.5,363 C 676.5,353 676.5,393 616.5,383" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="741" y="408" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Transfer incremental archive</text><line x1="616.5" y1="437" x2="865.5" y2="437" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="871" y="452" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Encrypt &amp; validate checksum</text><path d="M 870.5,483 C 930.5,473 930.5,513 870.5,503" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="983" y="528" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Deliver archive (port 22)</text><line x1="870.5" y1="559" x2="1094.5" y2="559" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"/><text x="856" y="651" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Validate archive integrity</text><line x1="616.5" y1="682" x2="1094.5" y2="682" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="856" y="697" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Extract and apply incremental data</text><line x1="616.5" y1="728" x2="1094.5" y2="728" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="1100" y="743" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Update data &amp; indexes</text><path d="M 1099.5,774 C 1159.5,764 1159.5,804 1099.5,794" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="974" y="819" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Update configurations if needed</text><line x1="616.5" y1="850" x2="1331" y2="850" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="76" y="989" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">DC Site Failure</text><path d="M 76,1018 C 136,1008 136,1048 76,1038" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="1328" y="1063" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Verify latest data synchronized</text><line x1="1553" y1="1094" x2="1102.5" y2="1094" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="1446" y="1109" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Start services manually</text><line x1="1553" y1="1140" x2="1339" y2="1140" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><text x="1336" y="1155" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Validate health</text><path d="M 1336,1184 C 1396,1174 1396,1214 1336,1204" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/></svg>
</div>
<h3 id="local-site-failover-mongodb-replica-set">3. Local Site Failover
(MongoDB replica set)</h3>
<ul>
<li>Within each site, the 3-server replica set (1 PRIMARY + 1 SECONDARY
with data + 1 Arbiter without data) offers automatic election on Primary
failure (15‚Äì35 seconds).</li>
</ul>
<h4 id="local-mongodb-replica-set-failover-flow">Local MongoDB Replica
Set Failover Flow</h4>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="max-width: 1154.5px; background-color: white;" viewBox="-50 -10 1154.5 1021" role="graphics-document document" aria-roledescription="sequence" preserveAspectRatio="xMidYMid meet"><g><rect x="893" y="935" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_ARB" rx="3" ry="3" class="actor actor-bottom"/><text x="968" y="967.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="968" dy="-8">‚ö™ DC Arbiter</tspan></text><text x="968" y="967.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="968" dy="8">(Port 27017)</tspan></text></g><g><rect x="619" y="935" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_SEC" rx="3" ry="3" class="actor actor-bottom"/><text x="694" y="967.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="694" dy="-8">üü¢ DC Secondary</tspan></text><text x="694" y="967.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="694" dy="8">(Port 27017)</tspan></text></g><g><rect x="290" y="935" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_PRI" rx="3" ry="3" class="actor actor-bottom"/><text x="365" y="967.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="365" dy="-8">üîµ DC Primary</tspan></text><text x="365" y="967.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="365" dy="8">(Port 27017)</tspan></text></g><g><rect x="0" y="935" fill="#eaeaea" stroke="#666" width="150" height="65" name="APP" rx="3" ry="3" class="actor actor-bottom"/><text x="75" y="967.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">üñ• DC Application</tspan></text></g><g><line id="actor3" x1="968" y1="65" x2="968" y2="935" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="DC_ARB"/><g id="root-3"><rect x="893" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_ARB" rx="3" ry="3" class="actor actor-top"/><text x="968" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="968" dy="-8">‚ö™ DC Arbiter</tspan></text><text x="968" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="968" dy="8">(Port 27017)</tspan></text></g></g><g><line id="actor2" x1="694" y1="65" x2="694" y2="935" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="DC_SEC"/><g id="root-2"><rect x="619" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_SEC" rx="3" ry="3" class="actor actor-top"/><text x="694" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="694" dy="-8">üü¢ DC Secondary</tspan></text><text x="694" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="694" dy="8">(Port 27017)</tspan></text></g></g><g><line id="actor1" x1="365" y1="65" x2="365" y2="935" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="DC_PRI"/><g id="root-1"><rect x="290" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="DC_PRI" rx="3" ry="3" class="actor actor-top"/><text x="365" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="365" dy="-8">üîµ DC Primary</tspan></text><text x="365" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="365" dy="8">(Port 27017)</tspan></text></g></g><g><line id="actor0" x1="75" y1="65" x2="75" y2="935" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="APP"/><g id="root-0"><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="APP" rx="3" ry="3" class="actor actor-top"/><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">üñ• DC Application</tspan></text></g></g><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#my-svg text.actor&gt;tspan{fill:black;stroke:none;}#my-svg .actor-line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#my-svg .innerArc{stroke-width:1.5;stroke-dasharray:none;}#my-svg .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#my-svg .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#my-svg #arrowhead path{fill:#333;stroke:#333;}#my-svg .sequenceNumber{fill:white;}#my-svg #sequencenumber{fill:#333;}#my-svg #crosshead path{fill:#333;stroke:#333;}#my-svg .messageText{fill:#333;stroke:none;}#my-svg .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#my-svg .labelText,#my-svg .labelText&gt;tspan{fill:black;stroke:none;}#my-svg .loopText,#my-svg .loopText&gt;tspan{fill:black;stroke:none;}#my-svg .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#my-svg .note{stroke:#aaaa33;fill:#fff5ad;}#my-svg .noteText,#my-svg .noteText&gt;tspan{fill:black;stroke:none;}#my-svg .activation0{fill:#f4f4f4;stroke:#666;}#my-svg .activation1{fill:#f4f4f4;stroke:#666;}#my-svg .activation2{fill:#f4f4f4;stroke:#666;}#my-svg .actorPopupMenu{position:absolute;}#my-svg .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#my-svg .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#my-svg .actor-man circle,#my-svg line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g/><defs><symbol id="computer" width="24" height="24"><path transform="scale(.5)" d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"/></symbol></defs><defs><symbol id="database" fill-rule="evenodd" clip-rule="evenodd"><path transform="scale(.5)" d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z"/></symbol></defs><defs><symbol id="clock" width="24" height="24"><path transform="scale(.5)" d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"/></symbol></defs><defs><marker id="arrowhead" refX="7.9" refY="5" markerUnits="userSpaceOnUse" markerWidth="12" markerHeight="12" orient="auto-start-reverse"><path d="M -1 0 L 10 5 L 0 10 z"/></marker></defs><defs><marker id="crosshead" markerWidth="15" markerHeight="8" orient="auto" refX="4" refY="4.5"><path fill="none" stroke="#000000" stroke-width="1pt" d="M 1,2 L 6,7 M 6,2 L 1,7" style="stroke-dasharray: 0, 0;"/></marker></defs><defs><marker id="filled-head" refX="15.5" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"/></marker></defs><defs><marker id="sequencenumber" refX="15" refY="15" markerWidth="60" markerHeight="40" orient="auto"><circle cx="15" cy="15" r="6"/></marker></defs><g><rect x="50" y="75" fill="#EDF2AE" stroke="#666" width="943" height="37" class="note"/><text x="522" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="522">&lt;b&gt;Hot Sync Within DC Site - Continuous Oplog Replication&lt;/b&gt;</tspan></text></g><g><rect x="615.5" y="305" fill="#EDF2AE" stroke="#666" width="157" height="54" class="note"/><text x="694" y="310" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="694">‚úì Data synchronized</tspan></text><text x="694" y="327" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="694">(~1 min lag)</tspan></text></g><g><rect x="891.5" y="369" fill="#EDF2AE" stroke="#666" width="153" height="54" class="note"/><text x="968" y="374" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="968">‚úì Health check only</tspan></text><text x="968" y="391" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="968">(no data stored)</tspan></text></g><g><line x1="64" y1="122" x2="1054.5" y2="122" class="loopLine"/><line x1="1054.5" y1="122" x2="1054.5" y2="433" class="loopLine"/><line x1="64" y1="433" x2="1054.5" y2="433" class="loopLine"/><line x1="64" y1="122" x2="64" y2="433" class="loopLine"/><polygon points="64,122 114,122 114,135 105.6,142 64,142" class="labelBox"/><text x="89" y="135" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="labelText" style="font-size: 16px; font-weight: 400;">loop</text><text x="584.25" y="140" text-anchor="middle" class="loopText" style="font-size: 16px; font-weight: 400;"><tspan x="584.25">[Real-time Operations Within DC Site]</tspan></text></g><g><rect x="50" y="443" fill="#EDF2AE" stroke="#666" width="943" height="37" class="note"/><text x="522" y="448" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="522">&lt;b&gt;‚ö† DC Primary Failure - Automatic Failover&lt;/b&gt;</tspan></text></g><g><rect x="581.5" y="658" fill="#EDF2AE" stroke="#666" width="225" height="73" class="note"/><text x="694" y="663" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="694">&lt;b&gt;‚ö° Automatic Election&lt;/b&gt;</tspan></text><text x="694" y="682" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="694">Secondary ‚Üí Primary</tspan></text><text x="694" y="699" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="694">(20-35 minutes)</tspan></text></g><g><rect x="573.5" y="861" fill="#EDF2AE" stroke="#666" width="241" height="54" class="note"/><text x="694" y="866" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="694">&lt;b&gt;‚úì New PRIMARY active&lt;/b&gt;</tspan></text><text x="694" y="883" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="noteText" dy="1em" style="font-size: 16px; font-weight: 400;"><tspan x="694">Automatic failover complete</tspan></text></g><text x="219" y="172" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">&lt;b&gt;Read &amp; Write Operations&lt;/b&gt;</text><line x1="76" y1="203" x2="361" y2="203" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><line x1="76" y1="203" x2="76" y2="203" stroke-width="0" marker-start="url(#sequencenumber)"/><text x="76" y="207" font-family="sans-serif" font-size="12px" text-anchor="middle" class="sequenceNumber">1</text><text x="528" y="218" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">&lt;b&gt;Oplog Replication&lt;/b&gt; (continuous)</text><line x1="366" y1="249" x2="690" y2="249" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><line x1="366" y1="249" x2="366" y2="249" stroke-width="0" marker-start="url(#sequencenumber)"/><text x="366" y="253" font-family="sans-serif" font-size="12px" text-anchor="middle" class="sequenceNumber">2</text><text x="665" y="264" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Heartbeat (no data)</text><line x1="366" y1="295" x2="964" y2="295" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><line x1="366" y1="295" x2="366" y2="295" stroke-width="0" marker-start="url(#sequencenumber)"/><text x="366" y="299" font-family="sans-serif" font-size="12px" text-anchor="middle" class="sequenceNumber">3</text><text x="366" y="495" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">‚ö† Primary Failure</text><path d="M 366,526 C 426,516 426,556 366,546" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#crosshead)" style="fill: none;"/><line x1="366" y1="526" x2="366" y2="526" stroke-width="0" marker-start="url(#sequencenumber)"/><text x="366" y="530" font-family="sans-serif" font-size="12px" text-anchor="middle" class="sequenceNumber">4</text><text x="830" y="571" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Election vote request</text><line x1="695" y1="602" x2="964" y2="602" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><line x1="695" y1="602" x2="695" y2="602" stroke-width="0" marker-start="url(#sequencenumber)"/><text x="695" y="606" font-family="sans-serif" font-size="12px" text-anchor="middle" class="sequenceNumber">5</text><text x="833" y="617" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Vote granted</text><line x1="967" y1="648" x2="698" y2="648" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"/><line x1="967" y1="648" x2="967" y2="648" stroke-width="0" marker-start="url(#sequencenumber)"/><text x="967" y="652" font-family="sans-serif" font-size="12px" text-anchor="middle" class="sequenceNumber">6</text><text x="695" y="746" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Promote to PRIMARY</text><path d="M 695,775 C 755,765 755,805 695,795" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><line x1="695" y1="775" x2="695" y2="775" stroke-width="0" marker-start="url(#sequencenumber)"/><text x="695" y="779" font-family="sans-serif" font-size="12px" text-anchor="middle" class="sequenceNumber">7</text><text x="383" y="820" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">&lt;b&gt;Reconnect &amp; Resume Operations&lt;/b&gt;</text><line x1="76" y1="851" x2="690" y2="851" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"/><line x1="76" y1="851" x2="76" y2="851" stroke-width="0" marker-start="url(#sequencenumber)"/><text x="76" y="855" font-family="sans-serif" font-size="12px" text-anchor="middle" class="sequenceNumber">8</text></svg>
</div>
<p><strong>Failover Characteristics:</strong> - <strong>PRIMARY Fail
Detection Time</strong>: 20 minutes (default heartbeat timeout,
configurable) - <strong>MongoDB Election Time</strong>: 5-20 seconds
(across servers within site, minimal latency) - <strong>Total
Failover</strong>: 20-35 minutes end-to-end - <strong>Data
Consistency</strong>: Zero data loss with proper write concerns</p>
<hr />
<h2 id="data-synchronization">Data Synchronization</h2>
<p>We support two cross-site synchronization methods; the
synchronization descriptions below incorporate both modes.</p>
<h3 id="dcdr-incremental-backup-synchronization">1. DC‚ÄìDR Incremental
Backup Synchronization</h3>
<ul>
<li>Backup agent at DC detects changes and produces incremental
dumps.</li>
<li>Archives compressed and transferred over SCP (port 22).</li>
<li>Transfer integrity validated (checksums).</li>
<li>Restore agent on DR applies increments to the DR MongoDB.</li>
<li>Default configurable interval: 1 hour; can be tuned to smaller or
larger windows depending on bandwidth and RPO needs.</li>
<li>Sync duration: ~1 hour typical for incremental cycle (varies on data
volume).</li>
</ul>
<h4 id="incremental-backup-data-flow">Incremental Backup Data Flow</h4>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 689.98px; background-color: white;" viewBox="0 0 689.98046875 3209.828125" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M283.185,62L284.641,68.167C286.097,74.333,289.009,86.667,289.704,100.024C290.399,113.382,288.875,127.763,288.114,134.954L287.352,142.145" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MjgzLjE4NDUwOTI3NzM0Mzc1LCJ5Ijo2Mn0seyJ4IjoyOTEuOTIxODc1LCJ5Ijo5OX0seyJ4IjoyODYuOTMxMDAxODMwOTU1LCJ5IjoxNDYuMTIyNDA4MDgwOTU0OTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M266.686,146.122L265.854,138.269C265.023,130.415,263.359,114.707,263.83,101.336C264.301,87.964,266.907,76.929,268.21,71.411L269.513,65.893" id="L_B_A_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_A_0" data-points="W3sieCI6MjY2LjY4NjE4NTY2OTA0NSwieSI6MTQ2LjEyMjQwODA4MDk1NDk4fSx7IngiOjI2MS42OTUzMTI1LCJ5Ijo5OX0seyJ4IjoyNzAuNDMyNjc4MjIyNjU2MjUsInkiOjYyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M276.809,347.391L276.809,353.557C276.809,359.724,276.809,372.057,276.809,383.724C276.809,395.391,276.809,406.391,276.809,411.891L276.809,417.391" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6Mjc2LjgwODU5Mzc1LCJ5IjozNDcuMzkwNjI1fSx7IngiOjI3Ni44MDg1OTM3NSwieSI6Mzg0LjM5MDYyNX0seyJ4IjoyNzYuODA4NTkzNzUsInkiOjQyMS4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M276.809,475.391L276.809,479.557C276.809,483.724,276.809,492.057,276.809,499.724C276.809,507.391,276.809,514.391,276.809,517.891L276.809,521.391" id="L_C_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_D_0" data-points="W3sieCI6Mjc2LjgwODU5Mzc1LCJ5Ijo0NzUuMzkwNjI1fSx7IngiOjI3Ni44MDg1OTM3NSwieSI6NTAwLjM5MDYyNX0seyJ4IjoyNzYuODA4NTkzNzUsInkiOjUyNS4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M276.809,603.391L276.809,607.557C276.809,611.724,276.809,620.057,276.809,627.724C276.809,635.391,276.809,642.391,276.809,645.891L276.809,649.391" id="L_D_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_E_0" data-points="W3sieCI6Mjc2LjgwODU5Mzc1LCJ5Ijo2MDMuMzkwNjI1fSx7IngiOjI3Ni44MDg1OTM3NSwieSI6NjI4LjM5MDYyNX0seyJ4IjoyNzYuODA4NTkzNzUsInkiOjY1My4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M229.858,776.94L212.706,790.932C195.554,804.924,161.25,832.907,144.097,861.441C126.945,889.974,126.945,919.057,126.945,933.599L126.945,948.141" id="L_E_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_F_0" data-points="W3sieCI6MjI5Ljg1ODEzMDA3NTkyMTI1LCJ5Ijo3NzYuOTQwMTYxMzI1OTIxM30seyJ4IjoxMjYuOTQ1MzEyNSwieSI6ODYwLjg5MDYyNX0seyJ4IjoxMjYuOTQ1MzEyNSwieSI6OTUyLjE0MDYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M126.945,1030.141L126.945,1045.349C126.945,1060.557,126.945,1090.974,126.945,1111.682C126.945,1132.391,126.945,1143.391,126.945,1148.891L126.945,1154.391" id="L_F_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_F_G_0" data-points="W3sieCI6MTI2Ljk0NTMxMjUsInkiOjEwMzAuMTQwNjI1fSx7IngiOjEyNi45NDUzMTI1LCJ5IjoxMTIxLjM5MDYyNX0seyJ4IjoxMjYuOTQ1MzEyNSwieSI6MTE1OC4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M320.922,779.777L335.42,793.296C349.917,806.815,378.912,833.853,393.409,852.872C407.906,871.891,407.906,882.891,407.906,888.391L407.906,893.891" id="L_E_H_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_H_0" data-points="W3sieCI6MzIwLjkyMjE4NTk2MDU1NTUsInkiOjc3OS43NzcwMzI3ODk0NDQ0fSx7IngiOjQwNy45MDYyNSwieSI6ODYwLjg5MDYyNX0seyJ4Ijo0MDcuOTA2MjUsInkiOjg5Ny44OTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M442.627,1049.67L449.717,1061.624C456.808,1073.577,470.99,1097.484,478.081,1114.937C485.172,1132.391,485.172,1143.391,485.172,1148.891L485.172,1154.391" id="L_H_I_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_H_I_0" data-points="W3sieCI6NDQyLjYyNjYyMTIwNjk4NzQsInkiOjEwNDkuNjcwMjUzNzkzMDEyNX0seyJ4Ijo0ODUuMTcxODc1LCJ5IjoxMTIxLjM5MDYyNX0seyJ4Ijo0ODUuMTcxODc1LCJ5IjoxMTU4LjM5MDYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M485.172,1236.391L485.172,1240.557C485.172,1244.724,485.172,1253.057,480.655,1260.965C476.138,1268.873,467.104,1276.356,462.587,1280.098L458.07,1283.839" id="L_I_J_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I_J_0" data-points="W3sieCI6NDg1LjE3MTg3NSwieSI6MTIzNi4zOTA2MjV9LHsieCI6NDg1LjE3MTg3NSwieSI6MTI2MS4zOTA2MjV9LHsieCI6NDU0Ljk4OTk5MDIzNDM3NSwieSI6MTI4Ni4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M373.186,1049.67L366.095,1061.624C359.004,1073.577,344.822,1097.484,337.732,1122.104C330.641,1146.724,330.641,1172.057,330.641,1195.391C330.641,1218.724,330.641,1240.057,335.158,1254.465C339.674,1268.873,348.708,1276.356,353.225,1280.098L357.742,1283.839" id="L_H_J_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_H_J_0" data-points="W3sieCI6MzczLjE4NTg3ODc5MzAxMjYsInkiOjEwNDkuNjcwMjUzNzkzMDEyNX0seyJ4IjozMzAuNjQwNjI1LCJ5IjoxMTIxLjM5MDYyNX0seyJ4IjozMzAuNjQwNjI1LCJ5IjoxMTk3LjM5MDYyNX0seyJ4IjozMzAuNjQwNjI1LCJ5IjoxMjYxLjM5MDYyNX0seyJ4IjozNjAuODIyNTA5NzY1NjI1LCJ5IjoxMjg2LjM5MDYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M407.906,1364.391L407.906,1368.557C407.906,1372.724,407.906,1381.057,407.906,1388.724C407.906,1396.391,407.906,1403.391,407.906,1406.891L407.906,1410.391" id="L_J_K_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_J_K_0" data-points="W3sieCI6NDA3LjkwNjI1LCJ5IjoxMzY0LjM5MDYyNX0seyJ4Ijo0MDcuOTA2MjUsInkiOjEzODkuMzkwNjI1fSx7IngiOjQwNy45MDYyNSwieSI6MTQxNC4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M407.906,1492.391L407.906,1496.557C407.906,1500.724,407.906,1509.057,407.906,1516.724C407.906,1524.391,407.906,1531.391,407.906,1534.891L407.906,1538.391" id="L_K_L_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_K_L_0" data-points="W3sieCI6NDA3LjkwNjI1LCJ5IjoxNDkyLjM5MDYyNX0seyJ4Ijo0MDcuOTA2MjUsInkiOjE1MTcuMzkwNjI1fSx7IngiOjQwNy45MDYyNSwieSI6MTU0Mi4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M407.906,1620.391L407.906,1624.557C407.906,1628.724,407.906,1637.057,407.906,1644.724C407.906,1652.391,407.906,1659.391,407.906,1662.891L407.906,1666.391" id="L_L_M_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_L_M_0" data-points="W3sieCI6NDA3LjkwNjI1LCJ5IjoxNjIwLjM5MDYyNX0seyJ4Ijo0MDcuOTA2MjUsInkiOjE2NDUuMzkwNjI1fSx7IngiOjQwNy45MDYyNSwieSI6MTY3MC4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M407.906,1748.391L407.906,1752.557C407.906,1756.724,407.906,1765.057,407.906,1772.724C407.906,1780.391,407.906,1787.391,407.906,1790.891L407.906,1794.391" id="L_M_N_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_M_N_0" data-points="W3sieCI6NDA3LjkwNjI1LCJ5IjoxNzQ4LjM5MDYyNX0seyJ4Ijo0MDcuOTA2MjUsInkiOjE3NzMuMzkwNjI1fSx7IngiOjQwNy45MDYyNSwieSI6MTc5OC4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M483.29,1876.391L491.344,1880.557C499.398,1884.724,515.506,1893.057,523.559,1900.724C531.613,1908.391,531.613,1915.391,531.613,1918.891L531.613,1922.391" id="L_N_O_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_N_O_0" data-points="W3sieCI6NDgzLjI5MDIyMjE2Nzk2ODc1LCJ5IjoxODc2LjM5MDYyNX0seyJ4Ijo1MzEuNjEzMjgxMjUsInkiOjE5MDEuMzkwNjI1fSx7IngiOjUzMS42MTMyODEyNSwieSI6MTkyNi4zOTA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M491.054,2026.988L473.59,2039.915C456.125,2052.841,421.195,2078.694,394.261,2097.438C367.326,2116.182,348.387,2127.818,338.918,2133.635L329.448,2139.453" id="L_O_P_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_O_P_0" data-points="W3sieCI6NDkxLjA1NDQ4NTY5OTEwMzQ1LCJ5IjoyMDI2Ljk4ODA3OTQ0OTEwMzV9LHsieCI6Mzg2LjI2NTYyNSwieSI6MjEwNC41NDY4NzV9LHsieCI6MzI2LjAzOTgzMzQ3MDM5NDc0LCJ5IjoyMTQxLjU0Njg3NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M254.803,2141.547L253.577,2135.38C252.351,2129.214,249.898,2116.88,248.672,2092.784C247.445,2068.688,247.445,2032.828,247.445,1998.969C247.445,1965.109,247.445,1933.25,257.273,1913.401C267.1,1893.551,286.755,1885.712,296.583,1881.792L306.41,1877.873" id="L_P_N_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P_N_0" data-points="W3sieCI6MjU0LjgwMzA5NDE2MTE4NDIyLCJ5IjoyMTQxLjU0Njg3NX0seyJ4IjoyNDcuNDQ1MzEyNSwieSI6MjEwNC41NDY4NzV9LHsieCI6MjQ3LjQ0NTMxMjUsInkiOjE5OTYuOTY4NzV9LHsieCI6MjQ3LjQ0NTMxMjUsInkiOjE5MDEuMzkwNjI1fSx7IngiOjMxMC4xMjUzNjYyMTA5Mzc1LCJ5IjoxODc2LjM5MDYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M543.433,2055.727L545.07,2063.864C546.707,2072,549.98,2088.274,551.617,2101.91C553.254,2115.547,553.254,2126.547,553.254,2132.047L553.254,2137.547" id="L_O_Q_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_O_Q_0" data-points="W3sieCI6NTQzLjQzMzE5Njk4NDU4MjksInkiOjIwNTUuNzI2OTU5MjY1NDE3fSx7IngiOjU1My4yNTM5MDYyNSwieSI6MjEwNC41NDY4NzV9LHsieCI6NTUzLjI1MzkwNjI1LCJ5IjoyMTQxLjU0Njg3NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M553.254,2219.547L553.254,2223.714C553.254,2227.88,553.254,2236.214,553.254,2243.88C553.254,2251.547,553.254,2258.547,553.254,2262.047L553.254,2265.547" id="L_Q_R_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_R_0" data-points="W3sieCI6NTUzLjI1MzkwNjI1LCJ5IjoyMjE5LjU0Njg3NX0seyJ4Ijo1NTMuMjUzOTA2MjUsInkiOjIyNDQuNTQ2ODc1fSx7IngiOjU1My4yNTM5MDYyNSwieSI6MjI2OS41NDY4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M553.254,2347.547L553.254,2351.714C553.254,2355.88,553.254,2364.214,553.254,2371.88C553.254,2379.547,553.254,2386.547,553.254,2390.047L553.254,2393.547" id="L_R_S_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_R_S_0" data-points="W3sieCI6NTUzLjI1MzkwNjI1LCJ5IjoyMzQ3LjU0Njg3NX0seyJ4Ijo1NTMuMjUzOTA2MjUsInkiOjIzNzIuNTQ2ODc1fSx7IngiOjU1My4yNTM5MDYyNSwieSI6MjM5Ny41NDY4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M559.63,2451.547L561.086,2457.714C562.542,2463.88,565.455,2476.214,566.017,2489.427C566.579,2502.64,564.792,2516.733,563.898,2523.779L563.004,2530.825" id="L_S_T_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_S_T_0" data-points="W3sieCI6NTU5LjYyOTgyMTc3NzM0MzgsInkiOjI0NTEuNTQ2ODc1fSx7IngiOjU2OC4zNjcxODc1LCJ5IjoyNDg4LjU0Njg3NX0seyJ4Ijo1NjIuNTAwNjcxNTk0NDk2NSwieSI6MjUzNC43OTM2NDAzNDQ0OTY1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M544.007,2534.794L543.029,2527.086C542.052,2519.378,540.096,2503.962,540.421,2490.737C540.747,2477.511,543.353,2466.475,544.656,2460.958L545.959,2455.44" id="L_T_S_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T_S_0" data-points="W3sieCI6NTQ0LjAwNzE0MDkwNTUwMzUsInkiOjI1MzQuNzkzNjQwMzQ0NDk2NX0seyJ4Ijo1MzguMTQwNjI1LCJ5IjoyNDg4LjU0Njg3NX0seyJ4Ijo1NDYuODc3OTkwNzIyNjU2MiwieSI6MjQ1MS41NDY4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M553.254,2689.828L553.254,2695.995C553.254,2702.161,553.254,2714.495,553.254,2726.161C553.254,2737.828,553.254,2748.828,553.254,2754.328L553.254,2759.828" id="L_T_U_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T_U_0" data-points="W3sieCI6NTUzLjI1MzkwNjI1LCJ5IjoyNjg5LjgyODEyNX0seyJ4Ijo1NTMuMjUzOTA2MjUsInkiOjI3MjYuODI4MTI1fSx7IngiOjU1My4yNTM5MDYyNSwieSI6Mjc2My44MjgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M553.254,2817.828L553.254,2821.995C553.254,2826.161,553.254,2834.495,553.254,2842.161C553.254,2849.828,553.254,2856.828,553.254,2860.328L553.254,2863.828" id="L_U_V_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_U_V_0" data-points="W3sieCI6NTUzLjI1MzkwNjI1LCJ5IjoyODE3LjgyODEyNX0seyJ4Ijo1NTMuMjUzOTA2MjUsInkiOjI4NDIuODI4MTI1fSx7IngiOjU1My4yNTM5MDYyNSwieSI6Mjg2Ny44MjgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M553.254,2945.828L553.254,2949.995C553.254,2954.161,553.254,2962.495,553.254,2970.161C553.254,2977.828,553.254,2984.828,553.254,2988.328L553.254,2991.828" id="L_V_W_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_V_W_0" data-points="W3sieCI6NTUzLjI1MzkwNjI1LCJ5IjoyOTQ1LjgyODEyNX0seyJ4Ijo1NTMuMjUzOTA2MjUsInkiOjI5NzAuODI4MTI1fSx7IngiOjU1My4yNTM5MDYyNSwieSI6Mjk5NS44MjgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M553.254,3073.828L553.254,3077.995C553.254,3082.161,553.254,3090.495,553.254,3098.161C553.254,3105.828,553.254,3112.828,553.254,3116.328L553.254,3119.828" id="L_W_X_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_W_X_0" data-points="W3sieCI6NTUzLjI1MzkwNjI1LCJ5IjozMDczLjgyODEyNX0seyJ4Ijo1NTMuMjUzOTA2MjUsInkiOjMwOTguODI4MTI1fSx7IngiOjU1My4yNTM5MDYyNSwieSI6MzEyMy44MjgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(262.18867, 103.65811)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel" transform="translate(276.80859375, 384.390625)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel"><g class="label" data-id="L_C_D_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_D_E_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(126.9453125, 860.890625)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel"><g class="label" data-id="L_F_G_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(407.90625, 860.890625)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel" transform="translate(485.171875, 1121.390625)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel"><g class="label" data-id="L_I_J_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(330.640625, 1197.390625)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel"><g class="label" data-id="L_J_K_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_K_L_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_L_M_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_M_N_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_N_O_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(410.25286, 2086.79288)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel"><g class="label" data-id="L_P_N_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(553.25390625, 2104.546875)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel"><g class="label" data-id="L_Q_R_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_R_S_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_S_T_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(538.68174, 2492.81255)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel" transform="translate(553.25390625, 2726.828125)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel"><g class="label" data-id="L_U_V_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_V_W_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_W_X_0" transform="translate(0, 0)"></g></g></g><g class="nodes"><g class="node default" id="flowchart-A-0" transform="translate(276.80859375, 35)"><rect class="basic label-container" style="fill:#90EE90 !important" x="-128.703125" y="-27" width="257.40625" height="54"/><g class="label" style="" transform="translate(-98.703125, -12)"><text x="98.703125" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">DC Site Operating Normally</text></g></g><g class="node default" id="flowchart-B-1" transform="translate(276.80859375, 241.6953125)"><polygon points="105.6953125,0 211.390625,-105.6953125 105.6953125,-211.390625 0,-105.6953125" class="label-container" transform="translate(-105.1953125, 105.6953125)" style="fill:#FFE4B5 !important"/><g class="label" style="" transform="translate(-66.6953125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="66.6953125" y="18.400000000000002">Monitoring Detects</tspan><tspan x="66.6953125" y="38.0">DC Failure?</tspan></text></g></g><g class="node default" id="flowchart-C-5" transform="translate(276.80859375, 448.390625)"><rect class="basic label-container" style="fill:#FFB6C1 !important" x="-109.4453125" y="-27" width="218.890625" height="54"/><g class="label" style="" transform="translate(-79.4453125, -12)"><text x="79.4453125" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">Alert Operations Team</text></g></g><g class="node default" id="flowchart-D-7" transform="translate(276.80859375, 564.390625)"><rect class="basic label-container" style="" x="-111.2421875" y="-39" width="222.484375" height="78"/><g class="label" style="" transform="translate(-81.2421875, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="81.2421875" y="18.400000000000002">Validate Latest Backup</tspan><tspan x="81.2421875" y="38.0">at DR Site</tspan></text></g></g><g class="node default" id="flowchart-E-9" transform="translate(276.80859375, 738.640625)"><polygon points="85.25,0 170.5,-85.25 85.25,-170.5 0,-85.25" class="label-container" transform="translate(-84.75, 85.25)"/><g class="label" style="" transform="translate(-46.25, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="46.25" y="18.400000000000002">Backup Valid</tspan><tspan x="46.25" y="38.0">& Complete?</tspan></text></g></g><g class="node default" id="flowchart-F-11" transform="translate(126.9453125, 991.140625)"><rect class="basic label-container" style="" x="-118.9453125" y="-39" width="237.890625" height="78"/><g class="label" style="" transform="translate(-88.9453125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="88.9453125" y="18.400000000000002">Investigate Backup Issue</tspan><tspan x="88.9453125" y="38.0">Use Previous Backup</tspan></text></g></g><g class="node default" id="flowchart-G-13" transform="translate(126.9453125, 1197.390625)"><rect class="basic label-container" style="" x="-97.140625" y="-39" width="194.28125" height="78"/><g class="label" style="" transform="translate(-67.140625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="67.140625" y="18.400000000000002">Apply Most Recent</tspan><tspan x="67.140625" y="38.0">Valid Backup</tspan></text></g></g><g class="node default" id="flowchart-H-15" transform="translate(407.90625, 991.140625)"><polygon points="93.25,0 186.5,-93.25 93.25,-186.5 0,-93.25" class="label-container" transform="translate(-92.75, 93.25)"/><g class="label" style="" transform="translate(-54.25, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="54.25" y="18.400000000000002">Baseline Exists</tspan><tspan x="54.25" y="38.0">at DR?</tspan></text></g></g><g class="node default" id="flowchart-I-17" transform="translate(485.171875, 1197.390625)"><rect class="basic label-container" style="" x="-106.4765625" y="-39" width="212.953125" height="78"/><g class="label" style="" transform="translate(-76.4765625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="76.4765625" y="18.400000000000002">Perform Full Baseline</tspan><tspan x="76.4765625" y="38.0">Restore: ~1 hour</tspan></text></g></g><g class="node default" id="flowchart-J-19" transform="translate(407.90625, 1325.390625)"><rect class="basic label-container" style="" x="-107.390625" y="-39" width="214.78125" height="78"/><g class="label" style="" transform="translate(-77.390625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="77.390625" y="18.400000000000002">Apply All Incremental</tspan><tspan x="77.390625" y="38.0">Backups in Sequence</tspan></text></g></g><g class="node default" id="flowchart-K-23" transform="translate(407.90625, 1453.390625)"><rect class="basic label-container" style="" x="-107.375" y="-39" width="214.75" height="78"/><g class="label" style="" transform="translate(-77.375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="77.375" y="18.400000000000002">Update DR MongoDB</tspan><tspan x="77.375" y="38.0">with Latest Data</tspan></text></g></g><g class="node default" id="flowchart-L-25" transform="translate(407.90625, 1581.390625)"><rect class="basic label-container" style="" x="-124.265625" y="-39" width="248.53125" height="78"/><g class="label" style="" transform="translate(-94.265625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="94.265625" y="18.400000000000002">Update Configuration</tspan><tspan x="94.265625" y="38.0">Files & Connection Strings</tspan></text></g></g><g class="node default" id="flowchart-M-27" transform="translate(407.90625, 1709.390625)"><rect class="basic label-container" style="" x="-104.6875" y="-39" width="209.375" height="78"/><g class="label" style="" transform="translate(-74.6875, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="74.6875" y="18.400000000000002">Start SOAR Services</tspan><tspan x="74.6875" y="38.0">on DR</tspan></text></g></g><g class="node default" id="flowchart-N-29" transform="translate(407.90625, 1837.390625)"><rect class="basic label-container" style="" x="-117.6015625" y="-39" width="235.203125" height="78"/><g class="label" style="" transform="translate(-87.6015625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="87.6015625" y="18.400000000000002">Validate Service Health</tspan><tspan x="87.6015625" y="38.0">& Database Connectivity</tspan></text></g></g><g class="node default" id="flowchart-O-31" transform="translate(531.61328125, 1996.96875)"><polygon points="70.578125,0 141.15625,-70.578125 70.578125,-141.15625 0,-70.578125" class="label-container" transform="translate(-70.078125, 70.578125)"/><g class="label" style="" transform="translate(-31.578125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="31.578125" y="18.400000000000002">Services</tspan><tspan x="31.578125" y="38.0">Healthy?</tspan></text></g></g><g class="node default" id="flowchart-P-33" transform="translate(262.55859375, 2180.546875)"><rect class="basic label-container" style="" x="-111.96875" y="-39" width="223.9375" height="78"/><g class="label" style="" transform="translate(-81.96875, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="81.96875" y="18.400000000000002">Troubleshoot & Restart</tspan><tspan x="81.96875" y="38.0">Services</tspan></text></g></g><g class="node default" id="flowchart-Q-37" transform="translate(553.25390625, 2180.546875)"><rect class="basic label-container" style="" x="-128.7265625" y="-39" width="257.453125" height="78"/><g class="label" style="" transform="translate(-98.7265625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="98.7265625" y="18.400000000000002">Update DNS/Load Balancer</tspan><tspan x="98.7265625" y="38.0">to Point to DR</tspan></text></g></g><g class="node default" id="flowchart-R-39" transform="translate(553.25390625, 2308.546875)"><rect class="basic label-container" style="" x="-82.4609375" y="-39" width="164.921875" height="78"/><g class="label" style="" transform="translate(-52.4609375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="52.4609375" y="18.400000000000002">Notify Users of</tspan><tspan x="52.4609375" y="38.0">DR Activation</tspan></text></g></g><g class="node default" id="flowchart-S-41" transform="translate(553.25390625, 2424.546875)"><rect class="basic label-container" style="fill:#87CEEB !important" x="-111.8125" y="-27" width="223.625" height="54"/><g class="label" style="" transform="translate(-81.8125, -12)"><text x="81.8125" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">Monitor DR Operations</text></g></g><g class="node default" id="flowchart-T-43" transform="translate(553.25390625, 2607.6875)"><polygon points="82.140625,0 164.28125,-82.140625 82.140625,-164.28125 0,-82.140625" class="label-container" transform="translate(-81.640625, 82.140625)"/><g class="label" style="" transform="translate(-43.140625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="43.140625" y="18.400000000000002">DC Site</tspan><tspan x="43.140625" y="38.0">Recovered?</tspan></text></g></g><g class="node default" id="flowchart-U-47" transform="translate(553.25390625, 2790.828125)"><rect class="basic label-container" style="" x="-100.6953125" y="-27" width="201.390625" height="54"/><g class="label" style="" transform="translate(-70.6953125, -12)"><text x="70.6953125" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">Plan Failback to DC</text></g></g><g class="node default" id="flowchart-V-49" transform="translate(553.25390625, 2906.828125)"><rect class="basic label-container" style="" x="-95.8125" y="-39" width="191.625" height="78"/><g class="label" style="" transform="translate(-65.8125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="65.8125" y="18.400000000000002">Sync DR Changes</tspan><tspan x="65.8125" y="38.0">Back to DC</tspan></text></g></g><g class="node default" id="flowchart-W-51" transform="translate(553.25390625, 3034.828125)"><rect class="basic label-container" style="" x="-83.6484375" y="-39" width="167.296875" height="78"/><g class="label" style="" transform="translate(-53.6484375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="53.6484375" y="18.400000000000002">Redirect Traffic</tspan><tspan x="53.6484375" y="38.0">Back to DC</tspan></text></g></g><g class="node default" id="flowchart-X-53" transform="translate(553.25390625, 3162.828125)"><rect class="basic label-container" style="fill:#90EE90 !important" x="-81.59375" y="-39" width="163.1875" height="78"/><g class="label" style="" transform="translate(-51.59375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="51.59375" y="18.400000000000002">Return DR to</tspan><tspan x="51.59375" y="38.0">Standby Mode</tspan></text></g></g></g></g></g></svg>
</div>
<h3 id="hot-sync-oplog-synchronization---within-each-site-only">2. Hot
Sync (Oplog) Synchronization - Within Each Site Only</h3>
<p><strong>Important</strong>: Hot Sync (oplog replication) operates
<strong>ONLY within each site</strong>, not between DC and DR.</p>
<p><strong>Within DC Site:</strong> - MongoDB oplog entries are streamed
from DC PRIMARY to DC SECONDARY via port 27017 - Near real-time
replication within the site: typical lag ~1 minute - Enables automatic
failover within 20-35 minutes</p>
<p><strong>Within DR Site:</strong> - MongoDB oplog entries are streamed
from DR PRIMARY to DR SECONDARY via port 27017 - Near real-time
replication within the site: typical lag ~1 minute - Enables automatic
failover within 20-35 minutes</p>
<p><strong>Between Sites:</strong> - DC and DR do NOT use oplog
replication - Cross-site synchronization uses Incremental Backup &amp;
Restore only</p>
<h4 id="hot-sync-data-flow-within-each-site">Hot Sync Data Flow (Within
Each Site)</h4>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 420.746px; background-color: white;" viewBox="0 0 420.74609375 1592.484375" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .normalOps&gt;*{fill:#d4edda!important;stroke:#155724!important;stroke-width:2px!important;color:#000!important;}#my-svg .normalOps span{fill:#d4edda!important;stroke:#155724!important;stroke-width:2px!important;color:#000!important;}#my-svg .normalOps tspan{fill:#000!important;}#my-svg .warning&gt;*{fill:#fff3cd!important;stroke:#856404!important;stroke-width:2px!important;color:#000!important;}#my-svg .warning span{fill:#fff3cd!important;stroke:#856404!important;stroke-width:2px!important;color:#000!important;}#my-svg .warning tspan{fill:#000!important;}#my-svg .auto&gt;*{fill:#cfe2ff!important;stroke:#084298!important;stroke-width:2px!important;color:#000!important;}#my-svg .auto span{fill:#cfe2ff!important;stroke:#084298!important;stroke-width:2px!important;color:#000!important;}#my-svg .auto tspan{fill:#000!important;}#my-svg .success&gt;*{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:2px!important;color:#000!important;}#my-svg .success span{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:2px!important;color:#000!important;}#my-svg .success tspan{fill:#000!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M158.033,110L153.37,114.167C148.707,118.333,139.381,126.667,134.718,134.333C130.055,142,130.055,149,130.055,152.5L130.055,156" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MTU4LjAzMzIwMzEyNSwieSI6MTEwfSx7IngiOjEzMC4wNTQ2ODc1LCJ5IjoxMzV9LHsieCI6MTMwLjA1NDY4NzUsInkiOjE2MH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M130.055,214L130.055,218.167C130.055,222.333,130.055,230.667,137.601,244.695C145.147,258.723,160.24,278.446,167.787,288.308L175.333,298.169" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6MTMwLjA1NDY4NzUsInkiOjIxNH0seyJ4IjoxMzAuMDU0Njg3NSwieSI6MjM5fSx7IngiOjE3Ny43NjM3NDk0ODk4MjYzOCwieSI6MzAxLjM0NTYyNTUxMDE3MzZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M252.455,301.346L260.407,290.955C268.358,280.564,284.261,259.782,292.213,240.724C300.164,221.667,300.164,204.333,300.164,187C300.164,169.667,300.164,152.333,295.998,139.944C291.832,127.555,283.5,120.11,279.334,116.388L275.168,112.665" id="L_C_A_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_A_0" data-points="W3sieCI6MjUyLjQ1NTAwMDUxMDE3MzYyLCJ5IjozMDEuMzQ1NjI1NTEwMTczNn0seyJ4IjozMDAuMTY0MDYyNSwieSI6MjM5fSx7IngiOjMwMC4xNjQwNjI1LCJ5IjoxODd9LHsieCI6MzAwLjE2NDA2MjUsInkiOjEzNX0seyJ4IjoyNzIuMTg1NTQ2ODc1LCJ5IjoxMTB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M215.109,436.297L215.109,442.464C215.109,448.63,215.109,460.964,215.109,472.63C215.109,484.297,215.109,495.297,215.109,500.797L215.109,506.297" id="L_C_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_D_0" data-points="W3sieCI6MjE1LjEwOTM3NSwieSI6NDM2LjI5Njg3NX0seyJ4IjoyMTUuMTA5Mzc1LCJ5Ijo0NzMuMjk2ODc1fSx7IngiOjIxNS4xMDkzNzUsInkiOjUxMC4yOTY4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M215.109,612.297L215.109,616.464C215.109,620.63,215.109,628.964,215.109,636.63C215.109,644.297,215.109,651.297,215.109,654.797L215.109,658.297" id="L_D_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_E_0" data-points="W3sieCI6MjE1LjEwOTM3NSwieSI6NjEyLjI5Njg3NX0seyJ4IjoyMTUuMTA5Mzc1LCJ5Ijo2MzcuMjk2ODc1fSx7IngiOjIxNS4xMDkzNzUsInkiOjY2Mi4yOTY4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M215.109,764.297L215.109,768.464C215.109,772.63,215.109,780.964,215.109,788.63C215.109,796.297,215.109,803.297,215.109,806.797L215.109,810.297" id="L_E_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_F_0" data-points="W3sieCI6MjE1LjEwOTM3NSwieSI6NzY0LjI5Njg3NX0seyJ4IjoyMTUuMTA5Mzc1LCJ5Ijo3ODkuMjk2ODc1fSx7IngiOjIxNS4xMDkzNzUsInkiOjgxNC4yOTY4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M215.109,892.297L215.109,896.464C215.109,900.63,215.109,908.964,215.109,916.63C215.109,924.297,215.109,931.297,215.109,934.797L215.109,938.297" id="L_F_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_F_G_0" data-points="W3sieCI6MjE1LjEwOTM3NSwieSI6ODkyLjI5Njg3NX0seyJ4IjoyMTUuMTA5Mzc1LCJ5Ijo5MTcuMjk2ODc1fSx7IngiOjIxNS4xMDkzNzUsInkiOjk0Mi4yOTY4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M215.109,1044.297L215.109,1048.464C215.109,1052.63,215.109,1060.964,215.109,1068.63C215.109,1076.297,215.109,1083.297,215.109,1086.797L215.109,1090.297" id="L_G_H_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_G_H_0" data-points="W3sieCI6MjE1LjEwOTM3NSwieSI6MTA0NC4yOTY4NzV9LHsieCI6MjE1LjEwOTM3NSwieSI6MTA2OS4yOTY4NzV9LHsieCI6MjE1LjEwOTM3NSwieSI6MTA5NC4yOTY4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M215.109,1172.297L215.109,1176.464C215.109,1180.63,215.109,1188.964,215.109,1196.63C215.109,1204.297,215.109,1211.297,215.109,1214.797L215.109,1218.297" id="L_H_I_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_H_I_0" data-points="W3sieCI6MjE1LjEwOTM3NSwieSI6MTE3Mi4yOTY4NzV9LHsieCI6MjE1LjEwOTM3NSwieSI6MTE5Ny4yOTY4NzV9LHsieCI6MjE1LjEwOTM3NSwieSI6MTIyMi4yOTY4NzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M169.083,1386.458L158.3,1400.296C147.517,1414.133,125.952,1441.809,115.169,1461.147C104.387,1480.484,104.387,1491.484,104.387,1496.984L104.387,1502.484" id="L_I_J_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I_J_0" data-points="W3sieCI6MTY5LjA4Mjg1NTg4MzMyOTk4LCJ5IjoxMzg2LjQ1Nzg1NTg4MzMzfSx7IngiOjEwNC4zODY3MTg3NSwieSI6MTQ2OS40ODQzNzV9LHsieCI6MTA0LjM4NjcxODc1LCJ5IjoxNTA2LjQ4NDM3NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M261.136,1386.458L271.919,1400.296C282.701,1414.133,304.267,1441.809,315.049,1461.147C325.832,1480.484,325.832,1491.484,325.832,1496.984L325.832,1502.484" id="L_I_K_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I_K_0" data-points="W3sieCI6MjYxLjEzNTg5NDExNjY3LCJ5IjoxMzg2LjQ1Nzg1NTg4MzMzfSx7IngiOjMyNS44MzIwMzEyNSwieSI6MTQ2OS40ODQzNzV9LHsieCI6MzI1LjgzMjAzMTI1LCJ5IjoxNTA2LjQ4NDM3NX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_B_C_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(300.1640625, 187)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel" transform="translate(215.109375, 473.296875)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel"><g class="label" data-id="L_D_E_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_E_F_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_F_G_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_G_H_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_H_I_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(104.38671875, 1469.484375)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel" transform="translate(325.83203125, 1469.484375)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g></g><g class="nodes"><g class="node default normalOps" id="flowchart-A-0" transform="translate(215.109375, 59)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:2px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="30.400000000000002">üü¢ Normal Operations</tspan><tspan x="100.0" y="50.0">PRIMARY + SECONDARY + Arbiter</tspan></text></g></g><g class="node default" id="flowchart-B-1" transform="translate(130.0546875, 187)"><rect class="basic label-container" style="" x="-122.0546875" y="-27" width="244.109375" height="54"/><g class="label" style="" transform="translate(-92.0546875, -12)"><text x="92.0546875" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">ÔøΩ Continuous Heartbeats</text></g></g><g class="node default" id="flowchart-C-3" transform="translate(215.109375, 350.1484375)"><polygon points="86.1484375,0 172.296875,-86.1484375 86.1484375,-172.296875 0,-86.1484375" class="label-container" transform="translate(-85.6484375, 86.1484375)"/><g class="label" style="" transform="translate(-47.1484375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="47.1484375" y="18.400000000000002">PRIMARY</tspan><tspan x="47.1484375" y="38.0">Responding?</tspan></text></g></g><g class="node default warning" id="flowchart-D-7" transform="translate(215.109375, 561.296875)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:2px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="30.400000000000002">‚ö† PRIMARY Failure Detected</tspan><tspan x="100.0" y="50.0">Missed Heartbeats</tspan></text></g></g><g class="node default auto" id="flowchart-E-9" transform="translate(215.109375, 713.296875)"><rect class="basic label-container" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:2px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="30.400000000000002">‚ö° Automatic Election</tspan><tspan x="100.0" y="50.0">SECONDARY + Arbiter Vote</tspan></text></g></g><g class="node default auto" id="flowchart-F-11" transform="translate(215.109375, 853.296875)"><rect class="basic label-container" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:2px !important" x="-129.515625" y="-39" width="259.03125" height="78"/><g class="label" style="color:#000 !important" transform="translate(-99.515625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="99.515625" y="18.400000000000002">‚úÖ SECONDARY Promoted</tspan><tspan x="99.515625" y="38.0">to PRIMARY</tspan></text></g></g><g class="node default auto" id="flowchart-G-13" transform="translate(215.109375, 993.296875)"><rect class="basic label-container" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:2px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="100.0" y="30.400000000000002">ÔøΩ Application Auto-Reconnects</tspan><tspan x="100.0" y="50.0">to New PRIMARY</tspan></text></g></g><g class="node default normalOps" id="flowchart-H-15" transform="translate(215.109375, 1133.296875)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:2px !important" x="-122.6953125" y="-39" width="245.390625" height="78"/><g class="label" style="color:#000 !important" transform="translate(-92.6953125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="92.6953125" y="18.400000000000002">‚úÖ Operations Resumed</tspan><tspan x="92.6953125" y="38.0">20-35 minutes total</tspan></text></g></g><g class="node default" id="flowchart-I-17" transform="translate(215.109375, 1327.390625)"><polygon points="105.09375,0 210.1875,-105.09375 105.09375,-210.1875 0,-105.09375" class="label-container" transform="translate(-104.59375, 105.09375)"/><g class="label" style="" transform="translate(-66.09375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="66.09375" y="18.400000000000002">Original PRIMARY</tspan><tspan x="66.09375" y="38.0">Recovered?</tspan></text></g></g><g class="node default normalOps" id="flowchart-J-19" transform="translate(104.38671875, 1545.484375)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:2px !important" x="-84.53125" y="-39" width="169.0625" height="78"/><g class="label" style="color:#000 !important" transform="translate(-54.53125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="54.53125" y="18.400000000000002">Continue with</tspan><tspan x="54.53125" y="38.0">New PRIMARY</tspan></text></g></g><g class="node default normalOps" id="flowchart-K-21" transform="translate(325.83203125, 1545.484375)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:2px !important" x="-86.9140625" y="-39" width="173.828125" height="78"/><g class="label" style="color:#000 !important" transform="translate(-56.9140625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="56.9140625" y="18.400000000000002">Original joins as</tspan><tspan x="56.9140625" y="38.0">SECONDARY</tspan></text></g></g></g></g></g></svg>
</div>
<h4 id="oplog-window-and-data-consistency-within-each-site">Oplog Window
and Data Consistency (Within Each Site)</h4>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 759.395px; background-color: white;" viewBox="0 0 759.39453125 3249.765625" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .normalOps&gt;*{fill:#d4edda!important;stroke:#155724!important;stroke-width:3px!important;color:#000!important;}#my-svg .normalOps span{fill:#d4edda!important;stroke:#155724!important;stroke-width:3px!important;color:#000!important;}#my-svg .normalOps tspan{fill:#000!important;}#my-svg .warning&gt;*{fill:#fff3cd!important;stroke:#856404!important;stroke-width:3px!important;color:#000!important;}#my-svg .warning span{fill:#fff3cd!important;stroke:#856404!important;stroke-width:3px!important;color:#000!important;}#my-svg .warning tspan{fill:#000!important;}#my-svg .critical&gt;*{fill:#f8d7da!important;stroke:#721c24!important;stroke-width:3px!important;color:#000!important;}#my-svg .critical span{fill:#f8d7da!important;stroke:#721c24!important;stroke-width:3px!important;color:#000!important;}#my-svg .critical tspan{fill:#000!important;}#my-svg .election&gt;*{fill:#cfe2ff!important;stroke:#084298!important;stroke-width:3px!important;color:#000!important;}#my-svg .election span{fill:#cfe2ff!important;stroke:#084298!important;stroke-width:3px!important;color:#000!important;}#my-svg .election tspan{fill:#000!important;}#my-svg .success&gt;*{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:3px!important;color:#000!important;}#my-svg .success span{fill:#d1e7dd!important;stroke:#0a3622!important;stroke-width:3px!important;color:#000!important;}#my-svg .success tspan{fill:#000!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M172.224,86L166.52,90.167C160.816,94.333,149.408,102.667,143.704,110.333C138,118,138,125,138,128.5L138,132" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MTcyLjIyMzkzNzk4ODI4MTI1LCJ5Ijo4Nn0seyJ4IjoxMzgsInkiOjExMX0seyJ4IjoxMzgsInkiOjEzNn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M138,286L138,290.167C138,294.333,138,302.667,145.925,316.741C153.849,330.814,169.699,350.629,177.623,360.536L185.548,370.443" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6MTM4LCJ5IjoyODZ9LHsieCI6MTM4LCJ5IjozMTF9LHsieCI6MTg4LjA0NjYyODMyOTM5NTI4LCJ5IjozNzMuNTY2NjUyOTIwNjA0N31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M263.18,373.567L271.521,363.139C279.862,352.711,296.544,331.856,304.885,304.761C313.227,277.667,313.227,244.333,313.227,211C313.227,177.667,313.227,144.333,308.061,123.893C302.895,103.453,292.564,95.906,287.398,92.133L282.233,88.359" id="L_C_A_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_A_0" data-points="W3sieCI6MjYzLjE3OTkzNDE3MDYwNDcsInkiOjM3My41NjY2NTI5MjA2MDQ3fSx7IngiOjMxMy4yMjY1NjI1LCJ5IjozMTF9LHsieCI6MzEzLjIyNjU2MjUsInkiOjIxMX0seyJ4IjozMTMuMjI2NTYyNSwieSI6MTExfSx7IngiOjI3OS4wMDI2MjQ1MTE3MTg3NSwieSI6ODZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M225.613,505.063L225.613,511.229C225.613,517.396,225.613,529.729,225.613,541.396C225.613,553.063,225.613,564.063,225.613,569.563L225.613,575.063" id="L_C_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_D_0" data-points="W3sieCI6MjI1LjYxMzI4MTI1LCJ5Ijo1MDUuMDYyNX0seyJ4IjoyMjUuNjEzMjgxMjUsInkiOjU0Mi4wNjI1fSx7IngiOjIyNS42MTMyODEyNSwieSI6NTc5LjA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M225.613,657.063L225.613,661.229C225.613,665.396,225.613,673.729,225.613,681.396C225.613,689.063,225.613,696.063,225.613,699.563L225.613,703.063" id="L_D_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_E_0" data-points="W3sieCI6MjI1LjYxMzI4MTI1LCJ5Ijo2NTcuMDYyNX0seyJ4IjoyMjUuNjEzMjgxMjUsInkiOjY4Mi4wNjI1fSx7IngiOjIyNS42MTMyODEyNSwieSI6NzA3LjA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M225.613,785.063L225.613,789.229C225.613,793.396,225.613,801.729,225.613,809.396C225.613,817.063,225.613,824.063,225.613,827.563L225.613,831.063" id="L_E_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_F_0" data-points="W3sieCI6MjI1LjYxMzI4MTI1LCJ5Ijo3ODUuMDYyNX0seyJ4IjoyMjUuNjEzMjgxMjUsInkiOjgxMC4wNjI1fSx7IngiOjIyNS42MTMyODEyNSwieSI6ODM1LjA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M171.979,937.063L167.597,941.229C163.215,945.396,154.451,953.729,150.069,961.396C145.688,969.063,145.688,976.063,145.688,979.563L145.688,983.063" id="L_F_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_F_G_0" data-points="W3sieCI6MTcxLjk3ODg3NTQxMTE4NDIyLCJ5Ijo5MzcuMDYyNX0seyJ4IjoxNDUuNjg3NSwieSI6OTYyLjA2MjV9LHsieCI6MTQ1LjY4NzUsInkiOjk4Ny4wNjI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M145.688,1065.063L145.688,1069.229C145.688,1073.396,145.688,1081.729,145.688,1089.396C145.688,1097.063,145.688,1104.063,145.688,1107.563L145.688,1111.063" id="L_G_H_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_G_H_0" data-points="W3sieCI6MTQ1LjY4NzUsInkiOjEwNjUuMDYyNX0seyJ4IjoxNDUuNjg3NSwieSI6MTA5MC4wNjI1fSx7IngiOjE0NS42ODc1LCJ5IjoxMTE1LjA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M145.688,1193.063L145.688,1197.229C145.688,1201.396,145.688,1209.729,145.688,1217.396C145.688,1225.063,145.688,1232.063,145.688,1235.563L145.688,1239.063" id="L_H_I_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_H_I_0" data-points="W3sieCI6MTQ1LjY4NzUsInkiOjExOTMuMDYyNX0seyJ4IjoxNDUuNjg3NSwieSI6MTIxOC4wNjI1fSx7IngiOjE0NS42ODc1LCJ5IjoxMjQzLjA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M145.688,1395.781L145.688,1401.948C145.688,1408.115,145.688,1420.448,154.473,1436.288C163.259,1452.128,180.83,1471.474,189.616,1481.147L198.401,1490.82" id="L_I_J_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I_J_0" data-points="W3sieCI6MTQ1LjY4NzUsInkiOjEzOTUuNzgxMjV9LHsieCI6MTQ1LjY4NzUsInkiOjE0MzIuNzgxMjV9LHsieCI6MjAxLjA5MDU5ODM2NjQ3NzI4LCJ5IjoxNDkzLjc4MTI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M262.273,1493.781L276.077,1483.615C289.881,1473.448,317.49,1453.115,331.294,1424.055C345.098,1394.995,345.098,1357.208,345.098,1321.422C345.098,1285.635,345.098,1251.849,345.098,1224.289C345.098,1196.729,345.098,1175.396,345.098,1154.063C345.098,1132.729,345.098,1111.396,345.098,1090.063C345.098,1068.729,345.098,1047.396,345.098,1026.063C345.098,1004.729,345.098,983.396,339.109,968.92C333.121,954.445,321.145,946.827,315.157,943.018L309.169,939.209" id="L_J_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_J_F_0" data-points="W3sieCI6MjYyLjI3MzI1OTk0MzE4MTgsInkiOjE0OTMuNzgxMjV9LHsieCI6MzQ1LjA5NzY1NjI1LCJ5IjoxNDMyLjc4MTI1fSx7IngiOjM0NS4wOTc2NTYyNSwieSI6MTMxOS40MjE4NzV9LHsieCI6MzQ1LjA5NzY1NjI1LCJ5IjoxMjE4LjA2MjV9LHsieCI6MzQ1LjA5NzY1NjI1LCJ5IjoxMTU0LjA2MjV9LHsieCI6MzQ1LjA5NzY1NjI1LCJ5IjoxMDkwLjA2MjV9LHsieCI6MzQ1LjA5NzY1NjI1LCJ5IjoxMDI2LjA2MjV9LHsieCI6MzQ1LjA5NzY1NjI1LCJ5Ijo5NjIuMDYyNX0seyJ4IjozMDUuNzkzNTg1NTI2MzE1OCwieSI6OTM3LjA2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M203.444,1338.025L252.476,1353.817C301.508,1369.61,399.572,1401.196,448.605,1422.488C497.637,1443.781,497.637,1454.781,497.637,1460.281L497.637,1465.781" id="L_I_K_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I_K_0" data-points="W3sieCI6MjAzLjQ0NDA1NzEyNDU5ODEsInkiOjEzMzguMDI0NjkyODc1NDAxOH0seyJ4Ijo0OTcuNjM2NzE4NzUsInkiOjE0MzIuNzgxMjV9LHsieCI6NDk3LjYzNjcxODc1LCJ5IjoxNDY5Ljc4MTI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M497.637,1571.781L497.637,1575.948C497.637,1580.115,497.637,1588.448,497.637,1596.115C497.637,1603.781,497.637,1610.781,497.637,1614.281L497.637,1617.781" id="L_K_L_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_K_L_0" data-points="W3sieCI6NDk3LjYzNjcxODc1LCJ5IjoxNTcxLjc4MTI1fSx7IngiOjQ5Ny42MzY3MTg3NSwieSI6MTU5Ni43ODEyNX0seyJ4Ijo0OTcuNjM2NzE4NzUsInkiOjE2MjEuNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M497.637,1723.781L497.637,1727.948C497.637,1732.115,497.637,1740.448,497.637,1748.115C497.637,1755.781,497.637,1762.781,497.637,1766.281L497.637,1769.781" id="L_L_M_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_L_M_0" data-points="W3sieCI6NDk3LjYzNjcxODc1LCJ5IjoxNzIzLjc4MTI1fSx7IngiOjQ5Ny42MzY3MTg3NSwieSI6MTc0OC43ODEyNX0seyJ4Ijo0OTcuNjM2NzE4NzUsInkiOjE3NzMuNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M497.637,1875.781L497.637,1879.948C497.637,1884.115,497.637,1892.448,497.637,1900.115C497.637,1907.781,497.637,1914.781,497.637,1918.281L497.637,1921.781" id="L_M_N_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_M_N_0" data-points="W3sieCI6NDk3LjYzNjcxODc1LCJ5IjoxODc1Ljc4MTI1fSx7IngiOjQ5Ny42MzY3MTg3NSwieSI6MTkwMC43ODEyNX0seyJ4Ijo0OTcuNjM2NzE4NzUsInkiOjE5MjUuNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M497.637,2003.781L497.637,2007.948C497.637,2012.115,497.637,2020.448,497.637,2028.115C497.637,2035.781,497.637,2042.781,497.637,2046.281L497.637,2049.781" id="L_N_O_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_N_O_0" data-points="W3sieCI6NDk3LjYzNjcxODc1LCJ5IjoyMDAzLjc4MTI1fSx7IngiOjQ5Ny42MzY3MTg3NSwieSI6MjAyOC43ODEyNX0seyJ4Ijo0OTcuNjM2NzE4NzUsInkiOjIwNTMuNzgxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M447.318,2183.415L428.852,2197.968C410.386,2212.522,373.455,2241.628,354.989,2268.848C336.523,2296.068,336.523,2321.401,336.523,2344.734C336.523,2368.068,336.523,2389.401,336.523,2410.734C336.523,2432.068,336.523,2453.401,336.523,2474.734C336.523,2496.068,336.523,2517.401,336.523,2542.07C336.523,2566.74,336.523,2594.745,336.523,2624.75C336.523,2654.755,336.523,2686.76,337.934,2710.274C339.345,2733.789,342.166,2748.811,343.577,2756.323L344.988,2763.834" id="L_O_P_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_O_P_0" data-points="W3sieCI6NDQ3LjMxNzYyNzIwODAyMDksInkiOjIxODMuNDE1MjgzNDU4MDIxfSx7IngiOjMzNi41MjM0Mzc1LCJ5IjoyMjcwLjczNDM3NX0seyJ4IjozMzYuNTIzNDM3NSwieSI6MjM0Ni43MzQzNzV9LHsieCI6MzM2LjUyMzQzNzUsInkiOjI0MTAuNzM0Mzc1fSx7IngiOjMzNi41MjM0Mzc1LCJ5IjoyNDc0LjczNDM3NX0seyJ4IjozMzYuNTIzNDM3NSwieSI6MjUzOC43MzQzNzV9LHsieCI6MzM2LjUyMzQzNzUsInkiOjI2MjIuNzV9LHsieCI6MzM2LjUyMzQzNzUsInkiOjI3MTguNzY1NjI1fSx7IngiOjM0NS43MjYxNjI5OTcxNTkwNywieSI6Mjc2Ny43NjU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M353.051,2845.766L353.051,2851.932C353.051,2858.099,353.051,2870.432,353.051,2880.099C353.051,2889.766,353.051,2896.766,353.051,2900.266L353.051,2903.766" id="L_P_Q_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P_Q_0" data-points="W3sieCI6MzUzLjA1MDc4MTI1LCJ5IjoyODQ1Ljc2NTYyNX0seyJ4IjozNTMuMDUwNzgxMjUsInkiOjI4ODIuNzY1NjI1fSx7IngiOjM1My4wNTA3ODEyNSwieSI6MjkwNy43NjU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M353.051,2961.766L353.051,2965.932C353.051,2970.099,353.051,2978.432,353.051,2986.099C353.051,2993.766,353.051,3000.766,353.051,3004.266L353.051,3007.766" id="L_Q_R_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_R_0" data-points="W3sieCI6MzUzLjA1MDc4MTI1LCJ5IjoyOTYxLjc2NTYyNX0seyJ4IjozNTMuMDUwNzgxMjUsInkiOjI5ODYuNzY1NjI1fSx7IngiOjM1My4wNTA3ODEyNSwieSI6MzAxMS43NjU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M353.051,3089.766L353.051,3093.932C353.051,3098.099,353.051,3106.432,353.051,3114.099C353.051,3121.766,353.051,3128.766,353.051,3132.266L353.051,3135.766" id="L_R_S_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_R_S_0" data-points="W3sieCI6MzUzLjA1MDc4MTI1LCJ5IjozMDg5Ljc2NTYyNX0seyJ4IjozNTMuMDUwNzgxMjUsInkiOjMxMTQuNzY1NjI1fSx7IngiOjM1My4wNTA3ODEyNSwieSI6MzEzOS43NjU2MjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M541.899,2189.472L555.013,2203.016C568.127,2216.559,594.354,2243.647,607.468,2262.691C620.582,2281.734,620.582,2292.734,620.582,2298.234L620.582,2303.734" id="L_O_T_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_O_T_0" data-points="W3sieCI6NTQxLjg5OTMzNzE5NTIxNzMsInkiOjIxODkuNDcxNzU2NTU0NzgyNn0seyJ4Ijo2MjAuNTgyMDMxMjUsInkiOjIyNzAuNzM0Mzc1fSx7IngiOjYyMC41ODIwMzEyNSwieSI6MjMwNy43MzQzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M620.582,2385.734L620.582,2389.901C620.582,2394.068,620.582,2402.401,620.582,2410.068C620.582,2417.734,620.582,2424.734,620.582,2428.234L620.582,2431.734" id="L_T_U_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T_U_0" data-points="W3sieCI6NjIwLjU4MjAzMTI1LCJ5IjoyMzg1LjczNDM3NX0seyJ4Ijo2MjAuNTgyMDMxMjUsInkiOjI0MTAuNzM0Mzc1fSx7IngiOjYyMC41ODIwMzEyNSwieSI6MjQzNS43MzQzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M620.582,2513.734L620.582,2517.901C620.582,2522.068,620.582,2530.401,620.582,2538.068C620.582,2545.734,620.582,2552.734,620.582,2556.234L620.582,2559.734" id="L_U_V_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_U_V_0" data-points="W3sieCI6NjIwLjU4MjAzMTI1LCJ5IjoyNTEzLjczNDM3NX0seyJ4Ijo2MjAuNTgyMDMxMjUsInkiOjI1MzguNzM0Mzc1fSx7IngiOjYyMC41ODIwMzEyNSwieSI6MjU2My43MzQzNzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M585.117,2646.301L566.931,2658.378C548.744,2670.456,512.37,2694.611,483.315,2714.467C454.261,2734.323,432.526,2749.88,421.658,2757.659L410.791,2765.437" id="L_V_P_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_V_P_0" data-points="W3sieCI6NTg1LjExNzQ2NzQzMjkwNzUsInkiOjI2NDYuMzAxMDYxMTgyOTA3Mn0seyJ4Ijo0NzUuOTk2MDkzNzUsInkiOjI3MTguNzY1NjI1fSx7IngiOjQwNy41Mzc5MDgzODA2ODE4LCJ5IjoyNzY3Ljc2NTYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M631.437,2670.911L633.234,2678.887C635.032,2686.862,638.627,2702.814,640.425,2716.29C642.223,2729.766,642.223,2740.766,642.223,2746.266L642.223,2751.766" id="L_V_W_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_V_W_0" data-points="W3sieCI6NjMxLjQzNjgzMDgwMTc5MjgsInkiOjI2NzAuOTEwODI1NDQ4MjA3fSx7IngiOjY0Mi4yMjI2NTYyNSwieSI6MjcxOC43NjU2MjV9LHsieCI6NjQyLjIyMjY1NjI1LCJ5IjoyNzU1Ljc2NTYyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_B_C_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(313.2265625, 211)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel" transform="translate(225.61328125, 542.0625)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel"><g class="label" data-id="L_D_E_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_E_F_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_F_G_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_G_H_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_H_I_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(145.6875, 1432.78125)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel"><g class="label" data-id="L_J_F_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(497.63671875, 1432.78125)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel"><g class="label" data-id="L_K_L_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_L_M_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_M_N_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_N_O_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(336.5234375, 2474.734375)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel"><g class="label" data-id="L_P_Q_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_Q_R_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_R_S_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(620.58203125, 2270.734375)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel"><g class="label" data-id="L_T_U_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_U_V_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(495.49077, 2705.81973)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel" transform="translate(642.22265625, 2718.765625)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g></g><g class="nodes"><g class="node default normalOps" id="flowchart-A-0" transform="translate(225.61328125, 47)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:3px !important" x="-125.34375" y="-39" width="250.6875" height="78"/><g class="label" style="color:#000 !important" transform="translate(-95.34375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="95.34375" y="18.400000000000002">üü¢ MongoDB Replica Set</tspan><tspan x="95.34375" y="38.0">Normal Operations</tspan></text></g></g><g class="node default" id="flowchart-B-1" transform="translate(138, 211)"><rect class="basic label-container" style="" x="-130" y="-75" width="260" height="150"/><g class="label" style="" transform="translate(-100, -60)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="100.0" y="54.400000000000006">All 3 instances on Port 27017</tspan><tspan x="100.0" y="74.0">üîµ PRIMARY | üü¢ SECONDARY (data) | ‚ö™ Arbiter (no data)</tspan></text></g></g><g class="node default warning" id="flowchart-C-3" transform="translate(225.61328125, 420.53125)"><polygon points="84.53125,0 169.0625,-84.53125 84.53125,-169.0625 0,-84.53125" class="label-container" transform="translate(-84.03125, 84.53125)" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important"/><g class="label" style="color:#000 !important" transform="translate(-45.53125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="45.53125" y="18.400000000000002">‚ö† PRIMARY</tspan><tspan x="45.53125" y="38.0">Node Fails?</tspan></text></g></g><g class="node default warning" id="flowchart-D-7" transform="translate(225.61328125, 618.0625)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-124.8515625" y="-39" width="249.703125" height="78"/><g class="label" style="color:#000 !important" transform="translate(-94.8515625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="94.8515625" y="18.400000000000002">üîî SECONDARY + Arbiter</tspan><tspan x="94.8515625" y="38.0">Detect Missing Heartbeat</tspan></text></g></g><g class="node default warning" id="flowchart-E-9" transform="translate(225.61328125, 746.0625)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-92.703125" y="-39" width="185.40625" height="78"/><g class="label" style="color:#000 !important" transform="translate(-62.703125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="62.703125" y="18.400000000000002">‚è± 10-15 seconds</tspan><tspan x="62.703125" y="38.0">Failure Detection</tspan></text></g></g><g class="node default election" id="flowchart-F-11" transform="translate(225.61328125, 886.0625)"><rect class="basic label-container" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:3px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="100.0" y="30.400000000000002">üó≥ Election Initiated</tspan><tspan x="100.0" y="50.0">SECONDARY + Arbiter Vote</tspan></text></g></g><g class="node default election" id="flowchart-G-13" transform="translate(145.6875, 1026.0625)"><rect class="basic label-container" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:3px !important" x="-124.8515625" y="-39" width="249.703125" height="78"/><g class="label" style="color:#000 !important" transform="translate(-94.8515625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="94.8515625" y="18.400000000000002">‚úã SECONDARY + Arbiter</tspan><tspan x="94.8515625" y="38.0">Cast Votes (2 out of 3)</tspan></text></g></g><g class="node default election" id="flowchart-H-15" transform="translate(145.6875, 1154.0625)"><rect class="basic label-container" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:3px !important" x="-89.5859375" y="-39" width="179.171875" height="78"/><g class="label" style="color:#000 !important" transform="translate(-59.5859375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="59.5859375" y="18.400000000000002">‚è± 5-20 seconds</tspan><tspan x="59.5859375" y="38.0">Election Process</tspan></text></g></g><g class="node default election" id="flowchart-I-17" transform="translate(145.6875, 1319.421875)"><polygon points="76.359375,0 152.71875,-76.359375 76.359375,-152.71875 0,-76.359375" class="label-container" transform="translate(-75.859375, 76.359375)" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:3px !important"/><g class="label" style="color:#000 !important" transform="translate(-37.359375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="37.359375" y="18.400000000000002">Majority</tspan><tspan x="37.359375" y="38.0">Achieved?</tspan></text></g></g><g class="node default election" id="flowchart-J-19" transform="translate(225.61328125, 1520.78125)"><rect class="basic label-container" style="fill:#cfe2ff !important;stroke:#084298 !important;stroke-width:3px !important" x="-92.0234375" y="-27" width="184.046875" height="54"/><g class="label" style="color:#000 !important" transform="translate(-62.0234375, -12)"><text x="62.0234375" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">üîÑ Retry Election</text></g></g><g class="node default success" id="flowchart-K-23" transform="translate(497.63671875, 1520.78125)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="30.400000000000002">üéØ SECONDARY Promoted</tspan><tspan x="100.0" y="50.0">to New Primary</tspan></text></g></g><g class="node default success" id="flowchart-L-25" transform="translate(497.63671875, 1672.78125)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="100.0" y="30.400000000000002">‚úì New PRIMARY Port 27017</tspan><tspan x="100.0" y="50.0">Accepts ALL Read/Write</tspan></text></g></g><g class="node default success" id="flowchart-M-27" transform="translate(497.63671875, 1824.78125)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="100.0" y="30.400000000000002">üîå Application</tspan><tspan x="100.0" y="50.0">Auto-Reconnects to New Primary</tspan></text></g></g><g class="node default warning" id="flowchart-N-29" transform="translate(497.63671875, 1964.78125)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#000 !important" transform="translate(-100, -24)"><text x="100.0" y="29.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">üîç Failed PRIMARY Detected</text></g></g><g class="node default warning" id="flowchart-O-31" transform="translate(497.63671875, 2143.7578125)"><polygon points="89.9765625,0 179.953125,-89.9765625 89.9765625,-179.953125 0,-89.9765625" class="label-container" transform="translate(-89.4765625, 89.9765625)" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important"/><g class="label" style="color:#000 !important" transform="translate(-50.9765625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="50.9765625" y="18.400000000000002">Old PRIMARY</tspan><tspan x="50.9765625" y="38.0">Can Restart?</tspan></text></g></g><g class="node default success" id="flowchart-P-33" transform="translate(353.05078125, 2806.765625)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#000 !important" transform="translate(-100, -24)"><text x="100.0" y="29.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">üîÑ Restart MongoDB on Old PRIMARY</text></g></g><g class="node default success" id="flowchart-Q-35" transform="translate(353.05078125, 2934.765625)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-120.046875" y="-27" width="240.09375" height="54"/><g class="label" style="color:#000 !important" transform="translate(-90.046875, -12)"><text x="90.046875" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">‚ûï Rejoins as Secondary</text></g></g><g class="node default success" id="flowchart-R-37" transform="translate(353.05078125, 3050.765625)"><rect class="basic label-container" style="fill:#d1e7dd !important;stroke:#0a3622 !important;stroke-width:3px !important" x="-107.1484375" y="-39" width="214.296875" height="78"/><g class="label" style="color:#000 !important" transform="translate(-77.1484375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="77.1484375" y="18.400000000000002">üîÑ Syncs Latest Data</tspan><tspan x="77.1484375" y="38.0">from New Primary</tspan></text></g></g><g class="node default normalOps" id="flowchart-S-39" transform="translate(353.05078125, 3190.765625)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:3px !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#000 !important" transform="translate(-100, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="100.0" y="30.400000000000002">‚úÖ Replica Set Healthy</tspan><tspan x="100.0" y="50.0">PRIMARY + SECONDARY + Arbiter</tspan></text></g></g><g class="node default critical" id="flowchart-T-41" transform="translate(620.58203125, 2346.734375)"><rect class="basic label-container" style="fill:#f8d7da !important;stroke:#721c24 !important;stroke-width:3px !important" x="-109.4921875" y="-39" width="218.984375" height="78"/><g class="label" style="color:#000 !important" transform="translate(-79.4921875, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="79.4921875" y="18.400000000000002">‚ö† Manual Intervention</tspan><tspan x="79.4921875" y="38.0">Required</tspan></text></g></g><g class="node default critical" id="flowchart-U-43" transform="translate(620.58203125, 2474.734375)"><rect class="basic label-container" style="fill:#f8d7da !important;stroke:#721c24 !important;stroke-width:3px !important" x="-109.375" y="-39" width="218.75" height="78"/><g class="label" style="color:#000 !important" transform="translate(-79.375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="79.375" y="18.400000000000002">üîß Admin Investigates</tspan><tspan x="79.375" y="38.0">Root Cause</tspan></text></g></g><g class="node default" id="flowchart-V-45" transform="translate(620.58203125, 2622.75)"><polygon points="59.015625,0 118.03125,-59.015625 59.015625,-118.03125 0,-59.015625" class="label-container" transform="translate(-58.515625, 59.015625)"/><g class="label" style="" transform="translate(-32.015625, -12)"><text x="32.015625" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">Can Fix?</text></g></g><g class="node default critical" id="flowchart-W-49" transform="translate(642.22265625, 2806.765625)"><rect class="basic label-container" style="fill:#f8d7da !important;stroke:#721c24 !important;stroke-width:3px !important" x="-109.171875" y="-51" width="218.34375" height="102"/><g class="label" style="color:#000 !important" transform="translate(-79.171875, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="79.171875" y="20.6">‚ö† Run with 2 Nodes</tspan><tspan x="79.171875" y="40.2">(1 data + 1 arbiter)</tspan><tspan x="79.171875" y="59.8">Reduced Redundancy</tspan></text></g></g></g></g></g></svg>
</div>
<p><strong>Note</strong>: This oplog replication operates independently
within DC site and within DR site. There is NO oplog replication between
DC and DR sites.</p>
<h3 id="data-integrity-and-validation">Data Integrity and
Validation</h3>
<p>Common checks for both methods: - Pre-transfer: verify replica set
health on DC; ensure oplog retention (Hot Sync) or incremental chain
integrity (Backup). - Transfer: checksum validation, retries and
alerting on failures. - Post-transfer: restore/replication validation;
monitoring to confirm DR readiness.</p>
<hr />
<h2 id="recovery-procedures">Recovery Procedures</h2>
<h3 id="dr-activation-dcdr-incremental-backup-restore-manual-process">1.
DR Activation ‚Äî DC‚ÄìDR Incremental Backup &amp; Restore (Manual
Process)</h3>
<ol type="1">
<li>Administrator detects primary outage via monitoring.</li>
<li>Administrator confirms latest incremental backup archive is
available and validated on DR.</li>
<li>If DR baseline not present, administrator performs manual baseline
restore (initial baseline may take ‚âà 1 hour).</li>
<li>Administrator manually applies subsequent increments until caught up
to the most recent consistent point.</li>
<li>Administrator manually starts and validates application services on
DR.</li>
<li>Administrator redirects traffic (DNS/load balancer) to DR site.</li>
<li>Administrator monitors system health and application
correctness.</li>
</ol>
<p>Rollback / Failback: - After primary is restored, administrator
manually replicates incremental changes from DR back to DC if needed. -
Administrator gradually shifts traffic back to DC once verified.</p>
<h3 id="dr-activation-hot-sync-manual-process">2. DR Activation ‚Äî Hot
Sync (Manual Process)</h3>
<ol type="1">
<li>Administrator detects DC unavailability through monitoring.</li>
<li>Administrator runs manual activation procedure: manually start
services on DR, manually configure DB for write operations, manually
update connection strings, manually run service health checks.</li>
<li>Administrator redirects traffic to DR.</li>
<li>Continue monitoring and, after DC recovery, administrator
coordinates manual failback (controlled data synchronization).</li>
</ol>
<h3 id="local-mongodb-recovery-automatic">3. Local MongoDB Recovery
(Automatic)</h3>
<ul>
<li>For MongoDB PRIMARY node failures within a site, the replica set
will <strong>automatically</strong> elect the SECONDARY node to become
the new Primary (with Arbiter providing the deciding vote). Application
reconnection logic should handle transient disconnects during the 15-35
second election process.</li>
<li><strong>All automatic processes</strong>: Local site failover (DC
Primary‚ÜîÔ∏éSecondary or DR Primary‚ÜîÔ∏éSecondary), data replication within each
site, cross-site data synchronization (cron jobs or oplog).</li>
<li><strong>Only manual process</strong>: Cross-site DR activation
(activating DR site when entire DC site fails).</li>
</ul>
<hr />
<h2 id="failover-test-plan-short">Failover Test Plan (short)</h2>
<ul>
<li>Test 1 (Periodic Backup mode): Simulate DC outage; administrator
manually validates DR archive availability; administrator manually
measures baseline restore time and incremental application; verify app
functionality on DR after manual activation.</li>
<li>Test 2 (Hot Sync mode): Verify oplog replication under load;
simulate DC unavailability; administrator manually activates DR and
verifies data consistency.</li>
<li>Test 3 (Local automatic failover): Simulate PRIMARY node failure
(power off or network disconnect); ensure replica set election
automatically promotes SECONDARY to Primary (with Arbiter voting) and
app reconnection within expected window (20‚Äì35 min).</li>
</ul>
<p>Success criteria: - Data consistency within expected RPO (backup
interval for Backup mode; near real-time for Hot Sync). - Manual RTO
within planned window based on administrator response time (document
test results). - Clear documentation and runbooks for manual DR
activation procedures.</p>
<hr />
<h2 id="conclusion">Conclusion</h2>
<p>The platform uses two different synchronization technologies:</p>
<ol type="1">
<li><p><strong>Hot Sync (Oplog Replication)</strong>: Used <strong>ONLY
within each site</strong> (DC Primary ‚Üí DC Secondary; DR Primary ‚Üí DR
Secondary) for local high availability. Provides near real-time
replication (~1 minute lag) and enables automatic failover within 20-35
minutes.</p></li>
<li><p><strong>DC‚ÄìDR Incremental Backup &amp; Restore</strong>: Used
<strong>ONLY for cross-site synchronization</strong> (DC ‚Üí DR).
Automated cron-based incremental backups (recommended: every 1 hour)
automatically transfer and restore to DR via SCP. Initial baseline setup
may require ‚âà 1 hour.</p></li>
</ol>
<p><strong>Key Architecture Points:</strong> - <strong>Local Site HA
(Automatic)</strong>: Each site (DC and DR) has 3-server MongoDB replica
set (1 PRIMARY + 1 SECONDARY with data + 1 Arbiter without data) with
automatic failover (20-35 minutes) - <strong>Hot Sync (Oplog
Replication)</strong>: Used ONLY within each site for PRIMARY ‚Üí
SECONDARY replication (~1 minute lag) - <strong>Cross-Site DR
(Incremental Backup)</strong>: DC to DR synchronization uses automated
cron-based incremental backups (1-hour intervals via SCP) - <strong>2x
Data Redundancy</strong>: PRIMARY and SECONDARY store complete copies of
data; Arbiter has no data - <strong>No Automated Cross-Site
Failover</strong>: Automated backup synchronization runs continuously;
DR activation is manual - <strong>Identical Architecture</strong>: DR
site mirrors DC site structure (3 servers: 2 data-bearing + 1
arbiter)</p>
<h3 id="automation-summary-whats-automatic-vs-manual">Automation
Summary: What‚Äôs Automatic vs Manual</h3>
<p><strong>‚úÖ AUTOMATIC (No Manual Intervention Required):</strong> 1.
<strong>Local HA Failover</strong>: DC Primary ‚ÜîÔ∏é DC Secondary switchover
(20-35 minutes) 2. <strong>Local HA Failover</strong>: DR Primary ‚ÜîÔ∏é DR
Secondary switchover (20-35 minutes) 3. <strong>Data Replication (Hot
Sync)</strong>: PRIMARY ‚Üí SECONDARY within each site (continuous oplog
replication, ~1 minute lag) 4. <strong>Cross-Site Data Sync</strong>: DC
‚Üí DR synchronization via automated cron jobs (Incremental Backup, every
1 hour) 5. <strong>Health Monitoring</strong>: Heartbeat between
PRIMARY, SECONDARY, and Arbiter within each site 6. <strong>Election
Process</strong>: Automatic Primary election when failure detected
within each site</p>
<p><strong>‚ö†Ô∏è MANUAL (Requires Administrator Intervention):</strong> 1.
<strong>DR Site Activation</strong>: Administrator must manually
activate DR site when DC site fails completely 2. <strong>Traffic
Redirection</strong>: DNS/load balancer configuration to point users to
DR site 3. <strong>Service Verification</strong>: Post-activation health
checks and validation</p>
<p><strong>Key Principle</strong>: - <strong>Hot Sync (oplog
replication)</strong>: Used ONLY within DC site and within DR site for
local HA - <strong>Incremental Backup &amp; Restore</strong>: Used ONLY
for cross-site DC‚ÜíDR synchronization - Within each site, everything is
automatic including Primary‚ÜîÔ∏éSecondary failover - Only cross-site DR
activation requires manual intervention</p>
<h3 id="synchronization-technology-comparison">Synchronization
Technology Comparison</h3>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 48%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="header">
<th><strong>Aspect</strong></th>
<th><strong>Incremental Backup &amp; Restore<br/>(Cross-Site
DC‚ÜíDR)</strong></th>
<th><strong>Hot Sync (Oplog Replication)<br/>(Within Each
Site)</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Purpose</strong></td>
<td>Cross-site DR synchronization</td>
<td>Local HA within site</td>
</tr>
<tr class="even">
<td><strong>Scope</strong></td>
<td>DC site ‚Üí DR site</td>
<td>DC Primary ‚Üí DC Secondary<br/>DR Primary ‚Üí DR Secondary</td>
</tr>
<tr class="odd">
<td><strong>Synchronization Method</strong></td>
<td>Automated cron incremental backups via SCP</td>
<td>Continuous automated oplog replication</td>
</tr>
<tr class="even">
<td><strong>Default Interval</strong></td>
<td>1 hour recommended</td>
<td>Near real-time (~1 minute lag)</td>
</tr>
<tr class="odd">
<td><strong>Network Ports</strong></td>
<td>Port 22 (SSH/SCP)</td>
<td>Port 27017 (MongoDB)</td>
</tr>
<tr class="even">
<td><strong>RPO (Recovery Point Objective)</strong></td>
<td>1 hour (backup interval)</td>
<td>~1 minute (replication lag)</td>
</tr>
<tr class="odd">
<td><strong>RTO (Recovery Time Objective)</strong></td>
<td>Manual DR activation (5-15 min)</td>
<td>Automatic failover (20-35 minutes)</td>
</tr>
<tr class="even">
<td><strong>Activation</strong></td>
<td>Manual by administrator (cross-site)</td>
<td>Automatic (within site)</td>
</tr>
<tr class="odd">
<td><strong>Initial Setup Time</strong></td>
<td>~1 hour (baseline restore)</td>
<td>Immediate (replica set setup)</td>
</tr>
<tr class="even">
<td><strong>Data Loss on Failover</strong></td>
<td>Up to 1 hour (cross-site)</td>
<td>Up to ~1 minute (within site)</td>
</tr>
<tr class="odd">
<td><strong>Bandwidth Requirements</strong></td>
<td>Moderate (periodic transfers)</td>
<td>Higher (continuous streaming)</td>
</tr>
<tr class="even">
<td><strong>Complexity</strong></td>
<td>Simple (automated cron jobs)</td>
<td>Moderate (oplog management, monitoring)</td>
</tr>
<tr class="odd">
<td><strong>Automation Level</strong></td>
<td>Automated sync + manual activation</td>
<td>Fully automatic</td>
</tr>
<tr class="even">
<td><strong>Best For</strong></td>
<td>Cross-site disaster recovery</td>
<td>Local high availability</td>
</tr>
<tr class="odd">
<td><strong>Failover Type</strong></td>
<td>Manual cross-site DR activation</td>
<td>Automatic local failover</td>
</tr>
</tbody>
</table>
<p><strong>Important</strong>: These two technologies serve different
purposes and are used together: - <strong>Hot Sync</strong>: Provides
automatic local HA within each site - <strong>Incremental
Backup</strong>: Provides cross-site DR capability between DC and DR</p>
<h3 id="architecture-decision-guide">Architecture Decision Guide</h3>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 4199.14px; background-color: white;" viewBox="0 0 4199.140625 367.35546875" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="subGraph2" data-look="classic"><rect style="" x="2448.84375" y="8" width="1742.296875" height="302.7890625"/><g class="cluster-label" transform="translate(3292.4296875, 8)"><text x="27.5625" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">DR Site</text></g></g><g class="cluster" id="subGraph1" data-look="classic"><rect style="" x="1738.34375" y="9" width="660.5" height="254.89453125"/><g class="cluster-label" transform="translate(2011.6796875, 9)"><text x="56.9140625" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">Secure Transfer</text></g></g><g class="cluster" id="subGraph0" data-look="classic"><rect style="" x="8" y="30.64453125" width="1680.34375" height="328.7109375"/><g class="cluster-label" transform="translate(768.140625, 30.64453125)"><text x="80.03125" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">DC Site - Every 1 hour</text></g></g></g><g class="edgePaths"><path d="M220.188,198L224.354,198C228.521,198,236.854,198,244.521,198C252.188,198,259.188,198,262.688,198L266.188,198" id="L_A_B_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_A_B_0" data-points="W3sieCI6MjIwLjE4NzUsInkiOjE5OH0seyJ4IjoyNDUuMTg3NSwieSI6MTk4fSx7IngiOjI3MC4xODc1LCJ5IjoxOTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M428.891,198L433.057,198C437.224,198,445.557,198,453.224,198C460.891,198,467.891,198,471.391,198L474.891,198" id="L_B_C_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_B_C_0" data-points="W3sieCI6NDI4Ljg5MDYyNSwieSI6MTk4fSx7IngiOjQ1My44OTA2MjUsInkiOjE5OH0seyJ4Ijo0NzguODkwNjI1LCJ5IjoxOTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M666.984,198L671.151,198C675.318,198,683.651,198,691.318,198C698.984,198,705.984,198,709.484,198L712.984,198" id="L_C_D_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_C_D_0" data-points="W3sieCI6NjY2Ljk4NDM3NSwieSI6MTk4fSx7IngiOjY5MS45ODQzNzUsInkiOjE5OH0seyJ4Ijo3MTYuOTg0Mzc1LCJ5IjoxOTh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M905.482,167.075L916.978,162.563C928.475,158.05,951.468,149.025,968.64,144.513C985.813,140,997.164,140,1002.84,140L1008.516,140" id="L_D_E_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_E_0" data-points="W3sieCI6OTA1LjQ4MTU3ODQyMjgxMTEsInkiOjE2Ny4wNzUzMjg0MjI4MTExNH0seyJ4Ijo5NzQuNDYwOTM3NSwieSI6MTQwfSx7IngiOjEwMTIuNTE1NjI1LCJ5IjoxNDB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M905.482,228.925L916.978,233.437C928.475,237.95,951.468,246.975,968.863,251.487C986.258,256,998.055,256,1003.953,256L1009.852,256" id="L_D_F_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_D_F_0" data-points="W3sieCI6OTA1LjQ4MTU3ODQyMjgxMTEsInkiOjIyOC45MjQ2NzE1NzcxODg4Nn0seyJ4Ijo5NzQuNDYwOTM3NSwieSI6MjU2fSx7IngiOjEwMTMuODUxNTYyNSwieSI6MjU2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1208.578,140L1212.745,140C1216.911,140,1225.245,140,1232.911,140C1240.578,140,1247.578,140,1251.078,140L1254.578,140" id="L_E_G_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_E_G_0" data-points="W3sieCI6MTIwOC41NzgxMjUsInkiOjE0MH0seyJ4IjoxMjMzLjU3ODEyNSwieSI6MTQwfSx7IngiOjEyNTguNTc4MTI1LCJ5IjoxNDB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1448.406,140L1452.573,140C1456.74,140,1465.073,140,1472.74,140C1480.406,140,1487.406,140,1490.906,140L1494.406,140" id="L_G_H_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_G_H_0" data-points="W3sieCI6MTQ0OC40MDYyNSwieSI6MTQwfSx7IngiOjE0NzMuNDA2MjUsInkiOjE0MH0seyJ4IjoxNDk4LjQwNjI1LCJ5IjoxNDB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1663.344,140L1667.51,140C1671.677,140,1680.01,140,1688.344,140C1696.677,140,1705.01,140,1713.344,140C1721.677,140,1730.01,140,1737.677,140C1745.344,140,1752.344,140,1755.844,140L1759.344,140" id="L_H_I_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_H_I_0" data-points="W3sieCI6MTY2My4zNDM3NSwieSI6MTQwfSx7IngiOjE2ODguMzQzNzUsInkiOjE0MH0seyJ4IjoxNzEzLjM0Mzc1LCJ5IjoxNDB9LHsieCI6MTczOC4zNDM3NSwieSI6MTQwfSx7IngiOjE3NjMuMzQzNzUsInkiOjE0MH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1912.999,179L1918.181,181.816C1923.364,184.632,1933.729,190.263,1942.411,193.079C1951.094,195.895,1958.094,195.895,1961.594,195.895L1965.094,195.895" id="L_I_J_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_I_J_0" data-points="W3sieCI6MTkxMi45OTkwMjgxNDY2MjEsInkiOjE3OX0seyJ4IjoxOTQ0LjA5Mzc1LCJ5IjoxOTUuODk0NTMxMjV9LHsieCI6MTk2OS4wOTM3NSwieSI6MTk1Ljg5NDUzMTI1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2142.031,195.895L2146.198,195.895C2150.365,195.895,2158.698,195.895,2166.365,195.895C2174.031,195.895,2181.031,195.895,2184.531,195.895L2188.031,195.895" id="L_J_K_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_J_K_0" data-points="W3sieCI6MjE0Mi4wMzEyNSwieSI6MTk1Ljg5NDUzMTI1fSx7IngiOjIxNjcuMDMxMjUsInkiOjE5NS44OTQ1MzEyNX0seyJ4IjoyMTkyLjAzMTI1LCJ5IjoxOTUuODk0NTMxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2373.844,195.895L2378.01,195.895C2382.177,195.895,2390.51,195.895,2398.844,195.895C2407.177,195.895,2415.51,195.895,2423.844,195.895C2432.177,195.895,2440.51,195.895,2448.177,195.895C2455.844,195.895,2462.844,195.895,2466.344,195.895L2469.844,195.895" id="L_K_L_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_K_L_0" data-points="W3sieCI6MjM3My44NDM3NSwieSI6MTk1Ljg5NDUzMTI1fSx7IngiOjIzOTguODQzNzUsInkiOjE5NS44OTQ1MzEyNX0seyJ4IjoyNDIzLjg0Mzc1LCJ5IjoxOTUuODk0NTMxMjV9LHsieCI6MjQ0OC44NDM3NSwieSI6MTk1Ljg5NDUzMTI1fSx7IngiOjI0NzMuODQzNzUsInkiOjE5NS44OTQ1MzEyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2648.563,195.895L2652.729,195.895C2656.896,195.895,2665.229,195.895,2672.896,195.895C2680.563,195.895,2687.563,195.895,2691.063,195.895L2694.563,195.895" id="L_L_M_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_L_M_0" data-points="W3sieCI6MjY0OC41NjI1LCJ5IjoxOTUuODk0NTMxMjV9LHsieCI6MjY3My41NjI1LCJ5IjoxOTUuODk0NTMxMjV9LHsieCI6MjY5OC41NjI1LCJ5IjoxOTUuODk0NTMxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2836.813,195.895L2840.979,195.895C2845.146,195.895,2853.479,195.895,2861.146,195.895C2868.813,195.895,2875.813,195.895,2879.313,195.895L2882.813,195.895" id="L_M_N_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_M_N_0" data-points="W3sieCI6MjgzNi44MTI1LCJ5IjoxOTUuODk0NTMxMjV9LHsieCI6Mjg2MS44MTI1LCJ5IjoxOTUuODk0NTMxMjV9LHsieCI6Mjg4Ni44MTI1LCJ5IjoxOTUuODk0NTMxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3014.623,170.127L3025.26,164.755C3035.897,159.383,3057.171,148.639,3074.88,140.011C3092.588,131.383,3106.731,124.872,3113.803,121.616L3120.874,118.36" id="L_N_O_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_N_O_0" data-points="W3sieCI6MzAxNC42MjMwNDIyODQzOTcsInkiOjE3MC4xMjY5NDg1MzQzOTcwM30seyJ4IjozMDc4LjQ0NTMxMjUsInkiOjEzNy44OTQ1MzEyNX0seyJ4IjozMTI0LjUwNzgxMjUsInkiOjExNi42ODc3MDAwODg0ODEzNH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3124.508,72.071L3116.831,71.059C3109.154,70.047,3093.799,68.024,3066.982,67.012C3040.164,66,3001.883,66,2965.777,66C2929.672,66,2895.742,66,2863.09,66C2830.438,66,2799.063,66,2767.688,66C2736.313,66,2704.938,66,2670.523,66C2636.109,66,2598.656,66,2561.203,66C2523.75,66,2486.297,66,2463.404,66C2440.51,66,2432.177,66,2423.844,66C2415.51,66,2407.177,66,2383.693,66C2360.208,66,2321.573,66,2282.938,66C2244.302,66,2205.667,66,2167.771,66C2129.875,66,2092.719,66,2055.563,66C2018.406,66,1981.25,66,1955.104,71.444C1928.957,76.888,1913.82,87.776,1906.252,93.22L1898.684,98.664" id="L_O_I_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_O_I_0" data-points="W3sieCI6MzEyNC41MDc4MTI1LCJ5Ijo3Mi4wNzA1Mjc2NzA1Mjc2N30seyJ4IjozMDc4LjQ0NTMxMjUsInkiOjY2fSx7IngiOjI5NjMuNjAxNTYyNSwieSI6NjZ9LHsieCI6Mjg2MS44MTI1LCJ5Ijo2Nn0seyJ4IjoyNzY3LjY4NzUsInkiOjY2fSx7IngiOjI2NzMuNTYyNSwieSI6NjZ9LHsieCI6MjU2MS4yMDMxMjUsInkiOjY2fSx7IngiOjI0NDguODQzNzUsInkiOjY2fSx7IngiOjI0MjMuODQzNzUsInkiOjY2fSx7IngiOjIzOTguODQzNzUsInkiOjY2fSx7IngiOjIyODIuOTM3NSwieSI6NjZ9LHsieCI6MjE2Ny4wMzEyNSwieSI6NjZ9LHsieCI6MjA1NS41NjI1LCJ5Ijo2Nn0seyJ4IjoxOTQ0LjA5Mzc1LCJ5Ijo2Nn0seyJ4IjoxODk1LjQzNjY1NTQwNTQwNTQsInkiOjEwMX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3028.045,208.24L3036.445,209.849C3044.845,211.458,3061.645,214.676,3075.721,216.285C3089.797,217.895,3101.148,217.895,3106.824,217.895L3112.5,217.895" id="L_N_P_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_N_P_0" data-points="W3sieCI6MzAyOC4wNDU0NTQ4Njk4MzM1LCJ5IjoyMDguMjM5NzAxMzgwMTY2N30seyJ4IjozMDc4LjQ0NTMxMjUsInkiOjIxNy44OTQ1MzEyNX0seyJ4IjozMTE2LjUsInkiOjIxNy44OTQ1MzEyNX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3283.203,217.895L3287.37,217.895C3291.536,217.895,3299.87,217.895,3307.536,217.895C3315.203,217.895,3322.203,217.895,3325.703,217.895L3329.203,217.895" id="L_P_Q_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P_Q_0" data-points="W3sieCI6MzI4My4yMDMxMjUsInkiOjIxNy44OTQ1MzEyNX0seyJ4IjozMzA4LjIwMzEyNSwieSI6MjE3Ljg5NDUzMTI1fSx7IngiOjMzMzMuMjAzMTI1LCJ5IjoyMTcuODk0NTMxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3519.516,217.895L3523.682,217.895C3527.849,217.895,3536.182,217.895,3543.849,217.895C3551.516,217.895,3558.516,217.895,3562.016,217.895L3565.516,217.895" id="L_Q_R_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_R_0" data-points="W3sieCI6MzUxOS41MTU2MjUsInkiOjIxNy44OTQ1MzEyNX0seyJ4IjozNTQ0LjUxNTYyNSwieSI6MjE3Ljg5NDUzMTI1fSx7IngiOjM1NjkuNTE1NjI1LCJ5IjoyMTcuODk0NTMxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3738.906,217.895L3743.073,217.895C3747.24,217.895,3755.573,217.895,3763.24,217.895C3770.906,217.895,3777.906,217.895,3781.406,217.895L3784.906,217.895" id="L_R_S_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_R_S_0" data-points="W3sieCI6MzczOC45MDYyNSwieSI6MjE3Ljg5NDUzMTI1fSx7IngiOjM3NjMuOTA2MjUsInkiOjIxNy44OTQ1MzEyNX0seyJ4IjozNzg4LjkwNjI1LCJ5IjoyMTcuODk0NTMxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3929.844,217.895L3934.01,217.895C3938.177,217.895,3946.51,217.895,3954.177,217.895C3961.844,217.895,3968.844,217.895,3972.344,217.895L3975.844,217.895" id="L_S_T_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_S_T_0" data-points="W3sieCI6MzkyOS44NDM3NSwieSI6MjE3Ljg5NDUzMTI1fSx7IngiOjM5NTQuODQzNzUsInkiOjIxNy44OTQ1MzEyNX0seyJ4IjozOTc5Ljg0Mzc1LCJ5IjoyMTcuODk0NTMxMjV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_A_B_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_B_C_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_C_D_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(974.4609375, 140)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel" transform="translate(974.4609375, 256)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel"><g class="label" data-id="L_E_G_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_G_H_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_H_I_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_I_J_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_J_K_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_K_L_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_L_M_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_M_N_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(3069.16653, 142.58063)"><g class="label" transform="translate(-10.2265625, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">No</text></g></g><g class="edgeLabel"><g class="label" data-id="L_O_I_0" transform="translate(0, 0)"></g></g><g class="edgeLabel" transform="translate(3078.4453125, 217.89453125)"><g class="label" transform="translate(-13.0546875, -12)"><text x="0" y="0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;">Yes</text></g></g><g class="edgeLabel"><g class="label" data-id="L_P_Q_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_Q_R_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_R_S_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_S_T_0" transform="translate(0, 0)"></g></g></g><g class="nodes"><g class="node default" id="flowchart-A-0" transform="translate(126.59375, 198)"><rect class="basic label-container" style="fill:#90EE90 !important" x="-93.59375" y="-39" width="187.1875" height="78"/><g class="label" style="" transform="translate(-63.59375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="63.59375" y="18.400000000000002">SOAR Application</tspan><tspan x="63.59375" y="38.0">Write Operations</tspan></text></g></g><g class="node default" id="flowchart-B-1" transform="translate(349.5390625, 198)"><rect class="basic label-container" style="" x="-79.3515625" y="-39" width="158.703125" height="78"/><g class="label" style="" transform="translate(-49.3515625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="49.3515625" y="18.400000000000002">DC MongoDB</tspan><tspan x="49.3515625" y="38.0">Primary</tspan></text></g></g><g class="node default" id="flowchart-C-3" transform="translate(572.9375, 198)"><rect class="basic label-container" style="" x="-94.046875" y="-39" width="188.09375" height="78"/><g class="label" style="" transform="translate(-64.046875, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="64.046875" y="18.400000000000002">Change Detection</tspan><tspan x="64.046875" y="38.0">Agent</tspan></text></g></g><g class="node default" id="flowchart-D-5" transform="translate(826.6953125, 198)"><polygon points="109.7109375,0 219.421875,-109.7109375 109.7109375,-219.421875 0,-109.7109375" class="label-container" transform="translate(-109.2109375, 109.7109375)"/><g class="label" style="" transform="translate(-70.7109375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="70.7109375" y="18.400000000000002">Data Modified</tspan><tspan x="70.7109375" y="38.0">Since Last Backup?</tspan></text></g></g><g class="node default" id="flowchart-E-7" transform="translate(1110.546875, 140)"><rect class="basic label-container" style="" x="-98.03125" y="-39" width="196.0625" height="78"/><g class="label" style="" transform="translate(-68.03125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="68.03125" y="18.400000000000002">Create Incremental</tspan><tspan x="68.03125" y="38.0">Dump</tspan></text></g></g><g class="node default" id="flowchart-F-9" transform="translate(1110.546875, 256)"><rect class="basic label-container" style="" x="-96.6953125" y="-27" width="193.390625" height="54"/><g class="label" style="" transform="translate(-66.6953125, -12)"><text x="66.6953125" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">Skip Backup Cycle</text></g></g><g class="node default" id="flowchart-G-11" transform="translate(1353.4921875, 140)"><rect class="basic label-container" style="" x="-94.9140625" y="-39" width="189.828125" height="78"/><g class="label" style="" transform="translate(-64.9140625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="64.9140625" y="18.400000000000002">Compress Archive</tspan><tspan x="64.9140625" y="38.0">tar.gz or similar</tspan></text></g></g><g class="node default" id="flowchart-H-13" transform="translate(1580.875, 140)"><rect class="basic label-container" style="" x="-82.46875" y="-39" width="164.9375" height="78"/><g class="label" style="" transform="translate(-52.46875, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="52.46875" y="18.400000000000002">Calculate MD5</tspan><tspan x="52.46875" y="38.0">Checksum</tspan></text></g></g><g class="node default" id="flowchart-I-15" transform="translate(1841.21875, 140)"><rect class="basic label-container" style="fill:#FFE4B5 !important" x="-77.875" y="-39" width="155.75" height="78"/><g class="label" style="" transform="translate(-47.875, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="47.875" y="18.400000000000002">SCP Transfer</tspan><tspan x="47.875" y="38.0">Port 22</tspan></text></g></g><g class="node default" id="flowchart-J-17" transform="translate(2055.5625, 195.89453125)"><rect class="basic label-container" style="" x="-86.46875" y="-27" width="172.9375" height="54"/><g class="label" style="" transform="translate(-56.46875, -12)"><text x="56.46875" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">SSH Encryption</text></g></g><g class="node default" id="flowchart-K-19" transform="translate(2282.9375, 195.89453125)"><rect class="basic label-container" style="" x="-90.90625" y="-27" width="181.8125" height="54"/><g class="label" style="" transform="translate(-60.90625, -12)"><text x="60.90625" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">Network Transfer</text></g></g><g class="node default" id="flowchart-L-21" transform="translate(2561.203125, 195.89453125)"><rect class="basic label-container" style="" x="-87.359375" y="-27" width="174.71875" height="54"/><g class="label" style="" transform="translate(-57.359375, -12)"><text x="57.359375" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">Receive Archive</text></g></g><g class="node default" id="flowchart-M-23" transform="translate(2767.6875, 195.89453125)"><rect class="basic label-container" style="" x="-69.125" y="-39" width="138.25" height="78"/><g class="label" style="" transform="translate(-39.125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="39.125" y="18.400000000000002">Verify MD5</tspan><tspan x="39.125" y="38.0">Checksum</tspan></text></g></g><g class="node default" id="flowchart-N-25" transform="translate(2963.6015625, 195.89453125)"><polygon points="76.7890625,0 153.578125,-76.7890625 76.7890625,-153.578125 0,-76.7890625" class="label-container" transform="translate(-76.2890625, 76.7890625)"/><g class="label" style="" transform="translate(-37.7890625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="37.7890625" y="18.400000000000002">Checksum</tspan><tspan x="37.7890625" y="38.0">Valid?</tspan></text></g></g><g class="node default" id="flowchart-O-27" transform="translate(3199.8515625, 82)"><rect class="basic label-container" style="" x="-75.34375" y="-39" width="150.6875" height="78"/><g class="label" style="" transform="translate(-45.34375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="45.34375" y="18.400000000000002">Alert & Retry</tspan><tspan x="45.34375" y="38.0">Transfer</tspan></text></g></g><g class="node default" id="flowchart-P-31" transform="translate(3199.8515625, 217.89453125)"><rect class="basic label-container" style="" x="-83.3515625" y="-27" width="166.703125" height="54"/><g class="label" style="" transform="translate(-53.3515625, -12)"><text x="53.3515625" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">Extract Archive</text></g></g><g class="node default" id="flowchart-Q-33" transform="translate(3426.359375, 217.89453125)"><rect class="basic label-container" style="" x="-93.15625" y="-39" width="186.3125" height="78"/><g class="label" style="" transform="translate(-63.15625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="63.15625" y="18.400000000000002">Apply Changes to</tspan><tspan x="63.15625" y="38.0">DR MongoDB</tspan></text></g></g><g class="node default" id="flowchart-R-35" transform="translate(3654.2109375, 217.89453125)"><rect class="basic label-container" style="" x="-84.6953125" y="-39" width="169.390625" height="78"/><g class="label" style="" transform="translate(-54.6953125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="54.6953125" y="18.400000000000002">Update System</tspan><tspan x="54.6953125" y="38.0">Metadata</tspan></text></g></g><g class="node default" id="flowchart-S-37" transform="translate(3859.375, 217.89453125)"><rect class="basic label-container" style="" x="-70.46875" y="-39" width="140.9375" height="78"/><g class="label" style="" transform="translate(-40.46875, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="40.46875" y="18.400000000000002">Log Sync</tspan><tspan x="40.46875" y="38.0">Completion</tspan></text></g></g><g class="node default" id="flowchart-T-39" transform="translate(4072.9921875, 217.89453125)"><rect class="basic label-container" style="fill:#87CEEB !important" x="-93.1484375" y="-39" width="186.296875" height="78"/><g class="label" style="" transform="translate(-63.1484375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="63.1484375" y="18.400000000000002">DR Data Updated</tspan><tspan x="63.1484375" y="38.0">RPO: 1 hour</tspan></text></g></g></g></g></g></svg>
</div>
<h3 id="complete-hadr-architecture-summary">Complete HA/DR Architecture
Summary</h3>
<div class="diagram">
<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1998.41px; background-color: white;" viewBox="0 0 1998.40625 1008" role="graphics-document document" aria-roledescription="flowchart-v2" preserveAspectRatio="xMidYMid meet"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .dcStyle&gt;*{fill:#d4edda!important;stroke:#155724!important;stroke-width:3px!important;color:#000!important;}#my-svg .dcStyle span{fill:#d4edda!important;stroke:#155724!important;stroke-width:3px!important;color:#000!important;}#my-svg .dcStyle tspan{fill:#000!important;}#my-svg .drStyle&gt;*{fill:#fff3cd!important;stroke:#856404!important;stroke-width:3px!important;color:#000!important;}#my-svg .drStyle span{fill:#fff3cd!important;stroke:#856404!important;stroke-width:3px!important;color:#000!important;}#my-svg .drStyle tspan{fill:#000!important;}#my-svg .crossStyle&gt;*{fill:#e2e8f0!important;stroke:#475569!important;stroke-width:3px!important;color:#000!important;}#my-svg .crossStyle span{fill:#e2e8f0!important;stroke:#475569!important;stroke-width:3px!important;color:#000!important;}#my-svg .crossStyle tspan{fill:#000!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M999.203,332L999.203,340.167C999.203,348.333,999.203,364.667,999.203,380.333C999.203,396,999.203,411,999.203,418.5L999.203,426" id="L_DC_SITE_CROSS_SITE_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_SITE_CROSS_SITE_0" data-points="W3sieCI6OTk5LjIwMzEyNSwieSI6MzMyfSx7IngiOjk5OS4yMDMxMjUsInkiOjM4MX0seyJ4Ijo5OTkuMjAzMTI1LCJ5Ijo0MzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M999.203,578L999.203,586.167C999.203,594.333,999.203,610.667,999.203,626.333C999.203,642,999.203,657,999.203,664.5L999.203,672" id="L_CROSS_SITE_DR_SITE_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CROSS_SITE_DR_SITE_0" data-points="W3sieCI6OTk5LjIwMzEyNSwieSI6NTc4fSx7IngiOjk5OS4yMDMxMjUsInkiOjYyN30seyJ4Ijo5OTkuMjAzMTI1LCJ5Ijo2NzZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(999.203125, 381)"><g class="label" data-id="L_DC_SITE_CROSS_SITE_0" transform="translate(-77.3671875, -24.0)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;"><tspan x="0" y="-7.0">NOT Oplog</tspan><tspan x="0" y="7.0">Uses Backup/Restore</tspan></text></g></g><g class="edgeLabel" transform="translate(999.203125, 627)"><g class="label" data-id="L_CROSS_SITE_DR_SITE_0" transform="translate(-77.3671875, -24.0)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 12px; fill: #333;"><tspan x="0" y="-7.0">NOT Oplog</tspan><tspan x="0" y="7.0">Uses Backup/Restore</tspan></text></g></g></g><g class="nodes"><g class="root" transform="translate(579.890625, 422)"><g class="clusters"><g class="cluster" id="CROSS_SITE" data-look="classic"><rect style="" x="8" y="8" width="822.625" height="148"/><g class="cluster-label" transform="translate(319.3125, 8)"><text x="100.0" y="28.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">ÔøΩ Cross-Site DC ‚Üí DR (Port 22 SCP)</text></g></g></g><g class="edgePaths"><path d="M298.906,82L305.156,82C311.406,82,323.906,82,335.74,82C347.573,82,358.74,82,364.323,82L369.906,82" id="L_DC_BACKUP_SCP_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_BACKUP_SCP_0" data-points="W3sieCI6Mjk4LjkwNjI1LCJ5Ijo4Mn0seyJ4IjozMzYuNDA2MjUsInkiOjgyfSx7IngiOjM3My45MDYyNSwieSI6ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M550.094,82L556.344,82C562.594,82,575.094,82,586.927,82C598.76,82,609.927,82,615.51,82L621.094,82" id="L_SCP_DR_RESTORE_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_SCP_DR_RESTORE_0" data-points="W3sieCI6NTUwLjA5Mzc1LCJ5Ijo4Mn0seyJ4Ijo1ODcuNTkzNzUsInkiOjgyfSx7IngiOjYyNS4wOTM3NSwieSI6ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_DC_BACKUP_SCP_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_SCP_DR_RESTORE_0" transform="translate(0, 0)"></g></g></g><g class="nodes"><g class="node default crossStyle" id="flowchart-DC_BACKUP-28" transform="translate(172.203125, 82)"><rect class="basic label-container" style="fill:#e2e8f0 !important;stroke:#475569 !important;stroke-width:3px !important" x="-126.703125" y="-39" width="253.40625" height="78"/><g class="label" style="color:#000 !important" transform="translate(-96.703125, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="96.703125" y="18.400000000000002">üìÇ DC Incremental Backup</tspan><tspan x="96.703125" y="38.0">Every 1 hour</tspan></text></g></g><g class="node default crossStyle" id="flowchart-SCP-29" transform="translate(462, 82)"><rect class="basic label-container" style="fill:#e2e8f0 !important;stroke:#475569 !important;stroke-width:3px !important" x="-88.09375" y="-39" width="176.1875" height="78"/><g class="label" style="color:#000 !important" transform="translate(-58.09375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="58.09375" y="18.400000000000002">ÔøΩ SCP Transfer</tspan><tspan x="58.09375" y="38.0">Port 22</tspan></text></g></g><g class="node default crossStyle" id="flowchart-DR_RESTORE-31" transform="translate(709.109375, 82)"><rect class="basic label-container" style="fill:#e2e8f0 !important;stroke:#475569 !important;stroke-width:3px !important" x="-84.015625" y="-39" width="168.03125" height="78"/><g class="label" style="color:#000 !important" transform="translate(-54.015625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="54.015625" y="18.400000000000002">üìÇ DR Restore</tspan><tspan x="54.015625" y="38.0">Automated</tspan></text></g></g></g></g><g class="root" transform="translate(4, 668)"><g class="clusters"><g class="cluster" id="DR_SITE" data-look="classic"><rect style="" x="8" y="8" width="1974.40625" height="324"/><g class="cluster-label" transform="translate(895.203125, 8)"><text x="100.0" y="28.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">üè¢ DR Site - Local Hot Sync (Port 27017)</text></g></g></g><g class="edgePaths"><path d="M257.141,170L263.391,170C269.641,170,282.141,170,293.974,170C305.807,170,316.974,170,322.557,170L328.141,170" id="L_DR_APP_DR_PRI_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_APP_DR_PRI_0" data-points="W3sieCI6MjU3LjE0MDYyNSwieSI6MTcwfSx7IngiOjI5NC42NDA2MjUsInkiOjE3MH0seyJ4IjozMzIuMTQwNjI1LCJ5IjoxNzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M513.344,170L519.594,170C525.844,170,538.344,170,550.177,170C562.01,170,573.177,170,578.76,170L584.344,170" id="L_DR_PRI_DR_WRITE_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_PRI_DR_WRITE_0" data-points="W3sieCI6NTEzLjM0Mzc1LCJ5IjoxNzB9LHsieCI6NTUwLjg0Mzc1LCJ5IjoxNzB9LHsieCI6NTg4LjM0Mzc1LCJ5IjoxNzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M800.563,170L806.813,170C813.063,170,825.563,170,837.396,170C849.229,170,860.396,170,865.979,170L871.563,170" id="L_DR_WRITE_DR_OPLOG_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_WRITE_DR_OPLOG_0" data-points="W3sieCI6ODAwLjU2MjUsInkiOjE3MH0seyJ4Ijo4MzguMDYyNSwieSI6MTcwfSx7IngiOjg3NS41NjI1LCJ5IjoxNzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1048.869,143L1065.584,134.833C1082.298,126.667,1115.727,110.333,1138.025,102.167C1160.323,94,1171.49,94,1177.073,94L1182.656,94" id="L_DR_OPLOG_DR_SEC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_OPLOG_DR_SEC_0" data-points="W3sieCI6MTA0OC44Njk0NDkwMTMxNTgsInkiOjE0M30seyJ4IjoxMTQ5LjE1NjI1LCJ5Ijo5NH0seyJ4IjoxMTg2LjY1NjI1LCJ5Ijo5NH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1396.313,94L1402.563,94C1408.813,94,1421.313,94,1433.146,94C1444.979,94,1456.146,94,1461.729,94L1467.313,94" id="L_DR_SEC_DR_APPLY_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_SEC_DR_APPLY_0" data-points="W3sieCI6MTM5Ni4zMTI1LCJ5Ijo5NH0seyJ4IjoxNDMzLjgxMjUsInkiOjk0fSx7IngiOjE0NzEuMzEyNSwieSI6OTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1671.609,94L1677.859,94C1684.109,94,1696.609,94,1708.443,94C1720.276,94,1731.443,94,1737.026,94L1742.609,94" id="L_DR_APPLY_DR_DATA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_APPLY_DR_DATA_0" data-points="W3sieCI6MTY3MS42MDkzNzUsInkiOjk0fSx7IngiOjE3MDkuMTA5Mzc1LCJ5Ijo5NH0seyJ4IjoxNzQ2LjYwOTM3NSwieSI6OTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1048.869,197L1065.584,205.167C1082.298,213.333,1115.727,229.667,1141.529,237.833C1167.331,246,1185.505,246,1194.592,246L1203.68,246" id="L_DR_OPLOG_DR_ARB_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DR_OPLOG_DR_ARB_0" data-points="W3sieCI6MTA0OC44Njk0NDkwMTMxNTgsInkiOjE5N30seyJ4IjoxMTQ5LjE1NjI1LCJ5IjoyNDZ9LHsieCI6MTIwNy42Nzk2ODc1LCJ5IjoyNDZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_DR_APP_DR_PRI_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DR_PRI_DR_WRITE_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DR_WRITE_DR_OPLOG_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DR_OPLOG_DR_SEC_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DR_SEC_DR_APPLY_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DR_APPLY_DR_DATA_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DR_OPLOG_DR_ARB_0" transform="translate(0, 0)"></g></g></g><g class="nodes"><g class="node default drStyle" id="flowchart-DR_APP-14" transform="translate(151.3203125, 170)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-105.8203125" y="-27" width="211.640625" height="54"/><g class="label" style="color:#000 !important" transform="translate(-75.8203125, -12)"><text x="75.8203125" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">üñ• SOAR Application</text></g></g><g class="node default drStyle" id="flowchart-DR_PRI-15" transform="translate(422.7421875, 170)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-90.6015625" y="-39" width="181.203125" height="78"/><g class="label" style="color:#000 !important" transform="translate(-60.6015625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="60.6015625" y="18.400000000000002">ÔøΩ DR PRIMARY</tspan><tspan x="60.6015625" y="38.0">Port 27017</tspan></text></g></g><g class="node default drStyle" id="flowchart-DR_WRITE-17" transform="translate(694.453125, 170)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-106.109375" y="-27" width="212.21875" height="54"/><g class="label" style="color:#000 !important" transform="translate(-76.109375, -12)"><text x="76.109375" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">‚úç Write to Database</text></g></g><g class="node default drStyle" id="flowchart-DR_OPLOG-19" transform="translate(993.609375, 170)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-118.046875" y="-27" width="236.09375" height="54"/><g class="label" style="color:#000 !important" transform="translate(-88.046875, -12)"><text x="88.046875" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">ÔøΩ Generate Oplog Entry</text></g></g><g class="node default drStyle" id="flowchart-DR_SEC-21" transform="translate(1291.484375, 94)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-104.828125" y="-51" width="209.65625" height="102"/><g class="label" style="color:#000 !important" transform="translate(-74.828125, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="74.828125" y="20.6">ÔøΩ DR SECONDARY</tspan><tspan x="74.828125" y="40.2">Port 27017</tspan><tspan x="74.828125" y="59.8">Receives Oplog</tspan></text></g></g><g class="node default drStyle" id="flowchart-DR_APPLY-23" transform="translate(1571.4609375, 94)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-100.1484375" y="-39" width="200.296875" height="78"/><g class="label" style="color:#000 !important" transform="translate(-70.1484375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="70.1484375" y="18.400000000000002">‚öô Apply Operations</tspan><tspan x="70.1484375" y="38.0">(~1 min lag)</tspan></text></g></g><g class="node default drStyle" id="flowchart-DR_DATA-25" transform="translate(1845.7578125, 94)"><rect class="basic label-container" style="fill:#fff3cd !important;stroke:#856404 !important;stroke-width:3px !important" x="-99.1484375" y="-27" width="198.296875" height="54"/><g class="label" style="color:#000 !important" transform="translate(-69.1484375, -12)"><text x="69.1484375" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">üíæ Replicated Data</text></g></g><g class="node default" id="flowchart-DR_ARB-27" transform="translate(1291.484375, 246)"><rect class="basic label-container" style="" x="-83.8046875" y="-51" width="167.609375" height="102"/><g class="label" style="" transform="translate(-53.8046875, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="53.8046875" y="20.6">‚ö™ DR Arbiter</tspan><tspan x="53.8046875" y="40.2">Heartbeat Only</tspan><tspan x="53.8046875" y="59.8">No Data</tspan></text></g></g></g></g><g class="root" transform="translate(0, 0)"><g class="clusters"><g class="cluster" id="DC_SITE" data-look="classic"><rect style="" x="8" y="8" width="1982.40625" height="324"/><g class="cluster-label" transform="translate(899.203125, 8)"><text x="100.0" y="28.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">üè¢ DC Site - Local Hot Sync (Port 27017)</text></g></g></g><g class="edgePaths"><path d="M257.141,170L263.391,170C269.641,170,282.141,170,293.974,170C305.807,170,316.974,170,322.557,170L328.141,170" id="L_DC_APP_DC_PRI_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_APP_DC_PRI_0" data-points="W3sieCI6MjU3LjE0MDYyNSwieSI6MTcwfSx7IngiOjI5NC42NDA2MjUsInkiOjE3MH0seyJ4IjozMzIuMTQwNjI1LCJ5IjoxNzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M517.344,170L523.594,170C529.844,170,542.344,170,554.177,170C566.01,170,577.177,170,582.76,170L588.344,170" id="L_DC_PRI_DC_WRITE_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_PRI_DC_WRITE_0" data-points="W3sieCI6NTE3LjM0Mzc1LCJ5IjoxNzB9LHsieCI6NTU0Ljg0Mzc1LCJ5IjoxNzB9LHsieCI6NTkyLjM0Mzc1LCJ5IjoxNzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M804.563,170L810.813,170C817.063,170,829.563,170,841.396,170C853.229,170,864.396,170,869.979,170L875.563,170" id="L_DC_WRITE_DC_OPLOG_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_WRITE_DC_OPLOG_0" data-points="W3sieCI6ODA0LjU2MjUsInkiOjE3MH0seyJ4Ijo4NDIuMDYyNSwieSI6MTcwfSx7IngiOjg3OS41NjI1LCJ5IjoxNzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1055.58,143L1072.509,134.833C1089.439,126.667,1123.297,110.333,1145.81,102.167C1168.323,94,1179.49,94,1185.073,94L1190.656,94" id="L_DC_OPLOG_DC_SEC_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_OPLOG_DC_SEC_0" data-points="W3sieCI6MTA1NS41Nzk5NzUzMjg5NDczLCJ5IjoxNDN9LHsieCI6MTE1Ny4xNTYyNSwieSI6OTR9LHsieCI6MTE5NC42NTYyNSwieSI6OTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1404.313,94L1410.563,94C1416.813,94,1429.313,94,1441.146,94C1452.979,94,1464.146,94,1469.729,94L1475.313,94" id="L_DC_SEC_DC_APPLY_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_SEC_DC_APPLY_0" data-points="W3sieCI6MTQwNC4zMTI1LCJ5Ijo5NH0seyJ4IjoxNDQxLjgxMjUsInkiOjk0fSx7IngiOjE0NzkuMzEyNSwieSI6OTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1679.609,94L1685.859,94C1692.109,94,1704.609,94,1716.443,94C1728.276,94,1739.443,94,1745.026,94L1750.609,94" id="L_DC_APPLY_DC_DATA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_APPLY_DC_DATA_0" data-points="W3sieCI6MTY3OS42MDkzNzUsInkiOjk0fSx7IngiOjE3MTcuMTA5Mzc1LCJ5Ijo5NH0seyJ4IjoxNzU0LjYwOTM3NSwieSI6OTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1055.58,197L1072.509,205.167C1089.439,213.333,1123.297,229.667,1149.314,237.833C1175.331,246,1193.505,246,1202.592,246L1211.68,246" id="L_DC_OPLOG_DC_ARB_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_DC_OPLOG_DC_ARB_0" data-points="W3sieCI6MTA1NS41Nzk5NzUzMjg5NDczLCJ5IjoxOTd9LHsieCI6MTE1Ny4xNTYyNSwieSI6MjQ2fSx7IngiOjEyMTUuNjc5Njg3NSwieSI6MjQ2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_DC_APP_DC_PRI_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DC_PRI_DC_WRITE_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DC_WRITE_DC_OPLOG_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DC_OPLOG_DC_SEC_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DC_SEC_DC_APPLY_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DC_APPLY_DC_DATA_0" transform="translate(0, 0)"></g></g><g class="edgeLabel"><g class="label" data-id="L_DC_OPLOG_DC_ARB_0" transform="translate(0, 0)"></g></g></g><g class="nodes"><g class="node default dcStyle" id="flowchart-DC_APP-0" transform="translate(151.3203125, 170)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:3px !important" x="-105.8203125" y="-27" width="211.640625" height="54"/><g class="label" style="color:#000 !important" transform="translate(-75.8203125, -12)"><text x="75.8203125" y="16.666666666666668" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;">üñ• SOAR Application</text></g></g><g class="node default dcStyle" id="flowchart-DC_PRI-1" transform="translate(424.7421875, 170)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:3px !important" x="-92.6015625" y="-39" width="185.203125" height="78"/><g class="label" style="color:#000 !important" transform="translate(-62.6015625, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="62.6015625" y="18.400000000000002">üîµ DC PRIMARY</tspan><tspan x="62.6015625" y="38.0">Port 27017</tspan></text></g></g><g class="node default dcStyle" id="flowchart-DC_WRITE-3" transform="translate(698.453125, 170)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:3px !important" x="-106.109375" y="-27" width="212.21875" height="54"/><g class="label" style="color:#000 !important" transform="translate(-76.109375, -12)"><text x="76.109375" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">‚úç Write to Database</text></g></g><g class="node default dcStyle" id="flowchart-DC_OPLOG-5" transform="translate(999.609375, 170)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:3px !important" x="-120.046875" y="-27" width="240.09375" height="54"/><g class="label" style="color:#000 !important" transform="translate(-90.046875, -12)"><text x="90.046875" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">üìã Generate Oplog Entry</text></g></g><g class="node default dcStyle" id="flowchart-DC_SEC-7" transform="translate(1299.484375, 94)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:3px !important" x="-104.828125" y="-51" width="209.65625" height="102"/><g class="label" style="color:#000 !important" transform="translate(-74.828125, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="74.828125" y="20.6">ÔøΩ DC SECONDARY</tspan><tspan x="74.828125" y="40.2">Port 27017</tspan><tspan x="74.828125" y="59.8">Receives Oplog</tspan></text></g></g><g class="node default dcStyle" id="flowchart-DC_APPLY-9" transform="translate(1579.4609375, 94)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:3px !important" x="-100.1484375" y="-39" width="200.296875" height="78"/><g class="label" style="color:#000 !important" transform="translate(-70.1484375, -24)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: normal;"><tspan x="70.1484375" y="18.400000000000002">‚öô Apply Operations</tspan><tspan x="70.1484375" y="38.0">(~1 min lag)</tspan></text></g></g><g class="node default dcStyle" id="flowchart-DC_DATA-11" transform="translate(1853.7578125, 94)"><rect class="basic label-container" style="fill:#d4edda !important;stroke:#155724 !important;stroke-width:3px !important" x="-99.1484375" y="-27" width="198.296875" height="54"/><g class="label" style="color:#000 !important" transform="translate(-69.1484375, -12)"><text x="69.1484375" y="17.0" text-anchor="middle" dominant-baseline="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333;">üíæ Replicated Data</text></g></g><g class="node default" id="flowchart-DC_ARB-13" transform="translate(1299.484375, 246)"><rect class="basic label-container" style="" x="-83.8046875" y="-51" width="167.609375" height="102"/><g class="label" style="" transform="translate(-53.8046875, -36)"><text text-anchor="middle" style="font-family: trebuchet ms, verdana, arial, sans-serif; font-size: 14px; fill: #333; font-weight: bold;"><tspan x="53.8046875" y="20.6">‚ö™ DC Arbiter</tspan><tspan x="53.8046875" y="40.2">Heartbeat Only</tspan><tspan x="53.8046875" y="59.8">No Data</tspan></text></g></g></g></g></g></g></g></svg>
</div>
<hr />
<h2 id="mongodb-replica-set-architecture-explained">MongoDB Replica Set
Architecture Explained</h2>
<h3
id="understanding-the-three-server-configuration-1-primary-1-secondary-1-arbiter">Understanding
the Three-Server Configuration (1 Primary + 1 Secondary + 1
Arbiter)</h3>
<p>Each site (DC and DR) operates a MongoDB replica set distributed
across three separate servers:</p>
<h4 id="component-distribution">Component Distribution</h4>
<p><strong>PRIMARY Node (Port 27017):</strong> - Example IP: 192.0.2.10
(DC), 203.0.113.10 (DR) - Hosts <strong>SOAR Application</strong> (UI
&amp; services on HTTPS port 443) - Runs <strong>MongoDB Primary
instance</strong> (port 27017) - Handles <strong>ALL</strong> read
operations from applications - Handles <strong>ALL</strong> write
operations from applications<br />
- Replicates data changes to Secondary node via oplog - Sends heartbeat
signals to Secondary and Arbiter - Only one Primary exists at any
time</p>
<p><strong>SECONDARY Node (Port 27017):</strong> - Example IP:
192.0.2.11 (DC), 203.0.113.11 (DR) - Hosts <strong>SOAR
Application</strong> in standby mode (UI &amp; services on HTTPS port
443) - Runs <strong>MongoDB Secondary instance</strong> (port 27017) -
Maintains a <strong>complete copy</strong> of all data from Primary -
Continuously applies oplog entries from Primary to stay synchronized -
<strong>Does NOT serve read operations</strong> in this configuration
(all reads go to Primary) - Participates in elections when Primary fails
- Becomes the new Primary if elected during failover - Acts as data
redundancy and failover candidate</p>
<p><strong>SECONDARY Node (Arbiter - Port 27017):</strong> - Example IP:
192.0.2.12 (DC), 203.0.113.12 (DR) - Labeled as ‚ÄúSECONDARY‚Äù in
architecture diagrams but functions as an <strong>Arbiter</strong> -
Runs <strong>MongoDB Arbiter instance</strong> (port 27017) -
<strong>Does NOT store any data</strong> (no database files, no SOAR
application) - Participates in elections only (voting member) - Provides
tiebreaker vote between Primary and Secondary - Consumes minimal
resources (CPU, memory, disk) - Sends/receives heartbeat signals only -
Cannot become Primary</p>
<p><strong>Important Note:</strong> All three MongoDB instances run on
port 27017. They are differentiated by their physical/virtual server
location and replica set member configuration, not by different ports.
Only PRIMARY and SECONDARY (data-bearing) nodes store data; the Arbiter
node stores no data.</p>
<h3 id="operation-flow">Operation Flow</h3>
<p><strong>Normal Operations (All traffic to PRIMARY node on Port
27017):</strong></p>
<pre><code>Application ‚Üí PRIMARY (Port 27017: 192.0.2.10) ‚Üí [ALL Reads + Writes]
PRIMARY ‚Üí SECONDARY (Port 27017: 192.0.2.11) ‚Üí [Oplog replication - DATA]
PRIMARY ‚Üî SECONDARY ‚Üî Arbiter (Port 27017: 192.0.2.12) ‚Üí [Heartbeat signals only]
Users ‚Üí PRIMARY SOAR (HTTPS 443: 192.0.2.10) ‚Üí [Active UI &amp; Services]</code></pre>
<p><strong>Failover Scenario (PRIMARY node fails):</strong></p>
<pre><code>1. PRIMARY (Port 27017: 192.0.2.10) fails ‚Üí No heartbeat detected
2. SECONDARY (192.0.2.11) + Arbiter (192.0.2.12) ‚Üí Initiate election
3. SECONDARY receives majority vote (2 out of 3) ‚Üí Promoted to Primary
4. Application ‚Üí New PRIMARY (Port 27017: 192.0.2.11) ‚Üí [ALL Reads + Writes]
5. Users ‚Üí New PRIMARY SOAR (HTTPS 443: 192.0.2.11) ‚Üí [Active UI &amp; Services]
6. Old PRIMARY restarts ‚Üí Rejoins as Secondary (Port 27017)</code></pre>
<h3 id="key-characteristics">Key Characteristics</h3>
<ul>
<li><strong>Three-Server Architecture</strong>: Distributed deployment
across separate physical/virtual servers</li>
<li><strong>2x Data Redundancy</strong>: 2 nodes store complete copies
of data (PRIMARY + SECONDARY); Arbiter has no data</li>
<li><strong>Single Port Configuration</strong>: All three replica set
members use port 27017</li>
<li><strong>Single Point of Read/Write</strong>: All operations always
go to the current Primary node (never split between nodes)</li>
<li><strong>Automatic Failover</strong>: SECONDARY can be automatically
promoted when PRIMARY fails (20-35 minutes)</li>
<li><strong>Data Redundancy</strong>: 2 complete copies of data (PRIMARY
+ SECONDARY); Arbiter stores no data</li>
<li><strong>Election Quorum</strong>: Requires majority vote (2 out of
3) to elect new Primary</li>
<li><strong>Zero Data Loss</strong>: SECONDARY stays synchronized; no
data loss on failover with proper write concerns</li>
<li><strong>Application Failover</strong>: When MongoDB fails over to
SECONDARY, the SOAR application on that server also becomes active</li>
<li><strong>Arbiter Role</strong>: Provides tiebreaker vote; minimal
resource usage; no data storage</li>
</ul>
<p>This design provides high availability through distributed server
architecture, with all MongoDB instances using the standard port 27017
and automatic server-level failover between Server 1 and Server 2.</p>
<hr />
<p><em>This document was updated to explicitly describe both DC‚ÄìDR
Incremental Backup &amp; Restore and Hot Sync (oplog) modes, their
processes, timings, and failover behaviors. Adjust configuration
parameters (backup interval, detection threshold, directory sync
interval) to match your operational requirements and test before
production cutover.</em></p>

</body>
</html>